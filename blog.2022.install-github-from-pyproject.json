{"kind":"Article","sha256":"4e0c324a7d78c486921b38519b7c5036d402cfa533a340c45808abe066548e4d","slug":"blog.2022.install-github-from-pyproject","location":"/blog/2022/install-github-from-pyproject.md","dependencies":[],"frontmatter":{"title":"Install dependencies from GitHub with pyproject.toml or requirements.txt","tags":["software development"],"date":"2022-12-31","content_includes_title":false,"github":"https://github.com/choldgraf/choldgraf.github.io","exports":[{"format":"md","filename":"install-github-from-pyproject.md","url":"/build/install-github-from--8e1c7058852aac2e5309b7430a6efc76.md"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"This is a short post to demonstrate how to install packages directly from GitHub with ","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"sf74TPjHWO"},{"type":"inlineCode","value":"pyprojects.toml","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"Oz3z2MrtfD"},{"type":"text","value":" or ","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"pN7lx03dnH"},{"type":"inlineCode","value":"requirements.txt","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"I3nniUhm8H"},{"type":"text","value":", including custom branches and commits.\nIt will focus on ","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"k8Fnth5txO"},{"type":"inlineCode","value":"pyprojects.toml","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"YDqVvTl4H8"},{"type":"text","value":" because this is newer and there’s less information about it, but the general pattern holds for ","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"ikx6SPtit0"},{"type":"inlineCode","value":"requirements.txt","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"j5p3WvhZCr"},{"type":"text","value":" as well.","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"aELWNrRAPf"}],"key":"rBRiDK2adB"},{"type":"paragraph","position":{"start":{"line":13,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"In ","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"Yb3x8jctLB"},{"type":"inlineCode","value":"pyproject.toml","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"VCGZQQShhh"},{"type":"text","value":", you can specify dependencies for a project via the ","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"g55BJ7uRhT"},{"type":"inlineCode","value":"dependencies","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"mNyD01YHev"},{"type":"text","value":" field.\nFor example, to specify ","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"bCK6iy09yR"},{"type":"link","url":"https://sphinx-doc.org","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Sphinx","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"DLdmHx3IZU"}],"urlSource":"https://sphinx-doc.org","key":"pSgeM059jO"},{"type":"text","value":" as a dependency:","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"W8dP1nIHRj"}],"key":"AXjPjhsZDz"},{"type":"container","kind":"code","children":[{"type":"code","lang":"toml","value":"dependencies = [\n  \"sphinx\",\n]","key":"sU4e4ibLzC"},{"type":"caption","children":[{"type":"paragraph","children":[{"type":"text","value":"pyproject.toml","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"Qma0Cvzq6U"}],"key":"UU2RimelUT"}],"key":"tNOcE3V4JZ"}],"enumerator":"1","key":"llRPOL1Jis"},{"type":"paragraph","position":{"start":{"line":23,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"text","value":"However, this will install the version that is published to [","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"YK5KAcGxJM"},{"type":"inlineCode","value":"PyPI","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"VMGwCo5YJk"},{"type":"text","value":"](Here’s how to install a specific branch in ","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"VZQOYUI0ht"},{"type":"inlineCode","value":"pyproject.toml","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"xlYRuZDD01"},{"type":"text","value":":\n).\nWhat if you want to install from ","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"BBzb6B07yn"},{"type":"inlineCode","value":"@main","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"emEXBcQBi3"},{"type":"text","value":", or from a specific commit or branch?","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"Fa9NqaSvBq"}],"key":"uKKNjfLZFB"},{"type":"paragraph","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"text","value":"To do so, use a pattern like this:","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"nrFmvjvgut"}],"key":"Z6q6jLV6M7"},{"type":"container","kind":"code","children":[{"type":"code","lang":"toml","value":"dependencies = [\n  \"<packagename>@git+<url-to-repo>#egg=<branch or hash>\",\n]","key":"KsWDYPuvSS"},{"type":"caption","children":[{"type":"paragraph","children":[{"type":"text","value":"pyproject.toml","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"RipGQcJM2K"}],"key":"ag05lYcwLj"}],"key":"onEjqOlaYq"}],"enumerator":"2","key":"xJ484djTi2"},{"type":"paragraph","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"children":[{"type":"text","value":"Here are a few recipes for doing this:","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"ErT3fd4XQc"}],"key":"EiQeD1wKs3"},{"type":"heading","depth":2,"position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"children":[{"type":"text","value":"Install directly from GitHub","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"k91V5d7Wub"}],"identifier":"install-directly-from-github","label":"Install directly from GitHub","html_id":"install-directly-from-github","implicit":true,"key":"nAiWpJTdNn"},{"type":"container","kind":"code","children":[{"type":"code","lang":"toml","value":"dependencies = [\n  \"sphinx@git+https://github.com/sphinx-doc/sphinx\",\n]","key":"bqwKbRXpgU"},{"type":"caption","children":[{"type":"paragraph","children":[{"type":"text","value":"pyproject.toml","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"DP9024NnTO"}],"key":"BfIkFf4BYa"}],"key":"gNQUoJTEJ6"}],"enumerator":"3","key":"vMuRyp84Qs"},{"type":"heading","depth":2,"position":{"start":{"line":47,"column":1},"end":{"line":47,"column":1}},"children":[{"type":"text","value":"Install from a specific branch","position":{"start":{"line":47,"column":1},"end":{"line":47,"column":1}},"key":"L6WMfXpdVJ"}],"identifier":"install-from-a-specific-branch","label":"Install from a specific branch","html_id":"install-from-a-specific-branch","implicit":true,"key":"EmIEagEHDO"},{"type":"container","kind":"code","children":[{"type":"code","lang":"toml","value":"dependencies = [\n  \"sphinx@git+https://github.com/sphinx-doc/sphinx#egg=branchname\",\n]","key":"IUAQgQmToQ"},{"type":"caption","children":[{"type":"paragraph","children":[{"type":"text","value":"pyproject.toml","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"key":"h7JfLn6E1A"}],"key":"e3m7Zp6fq4"}],"key":"yW00Eqc5az"}],"enumerator":"4","key":"oLX7LJLbXE"},{"type":"heading","depth":2,"position":{"start":{"line":56,"column":1},"end":{"line":56,"column":1}},"children":[{"type":"text","value":"With ","position":{"start":{"line":56,"column":1},"end":{"line":56,"column":1}},"key":"csR8bH9Fr4"},{"type":"inlineCode","value":"requirements.txt","position":{"start":{"line":56,"column":1},"end":{"line":56,"column":1}},"key":"aJIqYOwHRa"}],"identifier":"with-requirements-txt","label":"With requirements.txt","html_id":"with-requirements-txt","implicit":true,"key":"mL8L3YSolV"},{"type":"paragraph","position":{"start":{"line":58,"column":1},"end":{"line":60,"column":1}},"children":[{"type":"text","value":"Using these patterns with ","position":{"start":{"line":58,"column":1},"end":{"line":58,"column":1}},"key":"GXl0RYuPNH"},{"type":"inlineCode","value":"requirements.txt","position":{"start":{"line":58,"column":1},"end":{"line":58,"column":1}},"key":"F0lvGN2t1E"},{"type":"text","value":" is nearly the same, but it’s a bit simpler.","position":{"start":{"line":58,"column":1},"end":{"line":58,"column":1}},"key":"NoASZsZqAf"},{"type":"footnoteReference","identifier":"thanks","label":"thanks","position":{"start":{"line":58,"column":1},"end":{"line":58,"column":1}},"number":1,"enumerator":"1","key":"aqpAEb4DJx"},{"type":"text","value":"\nYou don’t need to specify the ","position":{"start":{"line":58,"column":1},"end":{"line":58,"column":1}},"key":"UGSwtWxaUD"},{"type":"inlineCode","value":"packagename@","position":{"start":{"line":58,"column":1},"end":{"line":58,"column":1}},"key":"Cd2GUvWfsx"},{"type":"text","value":" pattern used above.\nYou can simply add a line that points to git like this:","position":{"start":{"line":58,"column":1},"end":{"line":58,"column":1}},"key":"aLfxevTXfX"}],"key":"GcTYRqW0a8"},{"type":"container","kind":"code","children":[{"type":"code","lang":"txt","value":"requirement1\nrequirement2\ngit+https://github.com/pydata/pydata-sphinx-theme","key":"bhyUdZjyty"},{"type":"caption","children":[{"type":"paragraph","children":[{"type":"text","value":"requirements.txt","position":{"start":{"line":63,"column":1},"end":{"line":63,"column":1}},"key":"sgQvHdu3Ci"}],"key":"uFeOR5mGjv"}],"key":"yiz3ZX3XwC"}],"enumerator":"5","key":"iUxQombnP2"},{"type":"paragraph","position":{"start":{"line":70,"column":1},"end":{"line":71,"column":1}},"children":[{"type":"text","value":"This will install from the default branch.\nYou can also specify specific branches or eggs in the same way as above.","position":{"start":{"line":70,"column":1},"end":{"line":70,"column":1}},"key":"X3619rq5Th"}],"key":"WsnPAozgy4"},{"type":"footnoteDefinition","identifier":"thanks","label":"thanks","position":{"start":{"line":70,"column":1},"end":{"line":70,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":73,"column":1},"end":{"line":73,"column":1}},"children":[{"type":"text","value":"Thanks to ","position":{"start":{"line":73,"column":1},"end":{"line":73,"column":1}},"key":"hcu9o16aMq"},{"type":"link","url":"https://twitter.com/HEPfeickert/status/1609280067225681920","position":{"start":{"line":73,"column":1},"end":{"line":73,"column":1}},"children":[{"type":"text","value":"Matthew Feickhart for reminding me of this","position":{"start":{"line":73,"column":1},"end":{"line":73,"column":1}},"key":"ExUd64vcLm"}],"urlSource":"https://twitter.com/HEPfeickert/status/1609280067225681920","key":"JWeq47xbvH"},{"type":"text","value":".","position":{"start":{"line":73,"column":1},"end":{"line":73,"column":1}},"key":"vWYshYlQ0d"}],"key":"lSJRxzH1Zo"}],"number":1,"enumerator":"1","key":"zi4slxogDd"}],"key":"oN7alfIUkq"}],"key":"hufSoIePbb"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"GitHub year in review","url":"/blog/2022/github-2022","group":"2022"},"next":{"title":"Report from the JupyterLite workshop: WebAssembly is pretty cool","url":"/blog/2022/jupyterlite-workshop","group":"2022"}}},"domain":"http://localhost:3000"}