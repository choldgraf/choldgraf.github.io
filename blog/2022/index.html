

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Posted in 2022 &#8212; Chris Holdgraf</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=752cbf1e58c09e799737" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=752cbf1e58c09e799737" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=752cbf1e58c09e799737" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=752cbf1e58c09e799737" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/sphinx-examples.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=752cbf1e58c09e799737" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=752cbf1e58c09e799737" />

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/design-tabs.js"></script>
    <script async="async" src="https://www.googletagmanager.com/gtag/js?id=UA-88310237-1"></script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'UA-88310237-1');
            </script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'blog/2022';</script>
    <link rel="shortcut icon" href="../../_static/profile-color-circle-small.png"/>
    <link rel="author" title="About these documents" href="../../about/" />
    <link rel="index" title="Index" href="../../genindex/" />
    <link rel="search" title="Search" href="../../search/" />

  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>

<link
  rel="alternate"
  type="application/atom+xml"
  href="../../blog/atom.xml"
  title="Posted in 2022"
/>



  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target="#bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search/"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this site..."
         aria-label="Search this site..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar" id="navbar-main"><div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  <div id="navbar-start">
    
      
  

<a class="navbar-brand logo" href="../../">
  
  
  
  
  
    <p class="title logo__title">Chris Holdgraf</p>
  
</a>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    <div id="navbar-center" class="me-auto">
      
        <div class="navbar-center-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul id="navbar-main-elements" class="navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../about/">
                        About me
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../projects/">
                        Projects
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../publications/">
                        Published
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../talks/">
                        Talks
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../">
                        Blog
                      </a>
                    </li>
                
  </ul>
</nav></div>
      
    </div>
    <div id="navbar-end">
      
        <div class="navbar-end-item navbar-persistent--container">
          
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
        </div>
      
      
        <div class="navbar-end-item">
<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script></div>
      
        <div class="navbar-end-item"><ul id="navbar-icon-links"
    class="navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/choldgraf/" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-github"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/choldgraf" title="Twitter" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-twitter"></i></span>
            <label class="sr-only">Twitter</label></a>
        </li>
        <li class="nav-item">
            
          
          
          
          
          
          
          
          
          
          <a href="https://hachyderm.io/@choldgraf" title="Mastodon" class="nav-link" rel="me" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-mastodon"></i></span>
            <label class="sr-only">Mastodon</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://chrisholdgraf.com/blog/atom.xml" title="Blog RSS feed" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-solid fa-rss"></i></span>
            <label class="sr-only">Blog RSS feed</label></a>
        </li>
</ul></div>
      
    </div>
  </div>
  
  
    <div class="navbar-persistent--mobile">
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
    </div>
  

  
</div>
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        
  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-center-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul id="navbar-main-elements" class="navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../about/">
                        About me
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../projects/">
                        Projects
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../publications/">
                        Published
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../talks/">
                        Talks
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../">
                        Blog
                      </a>
                    </li>
                
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-end-item">
<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script></div>
        
          <div class="navbar-end-item"><ul id="navbar-icon-links"
    class="navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/choldgraf/" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-github"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/choldgraf" title="Twitter" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-twitter"></i></span>
            <label class="sr-only">Twitter</label></a>
        </li>
        <li class="nav-item">
            
          
          
          
          
          
          
          
          
          
          <a href="https://hachyderm.io/@choldgraf" title="Mastodon" class="nav-link" rel="me" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-mastodon"></i></span>
            <label class="sr-only">Mastodon</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://chrisholdgraf.com/blog/atom.xml" title="Blog RSS feed" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-solid fa-rss"></i></span>
            <label class="sr-only">Blog RSS feed</label></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-start-items sidebar-primary__section">
        <div class="sidebar-start-items__item">
<div class="ablog-sidebar-item ablog__recentposts">
<h3>
  <a href="../">Recent Posts</a>
</h3>
<ul>
  
  
  <li>
    <a href="../2023/social-directive/">
      15 February - A Sphinx directive for social media embeds
    </a>
  </li>
  
  <li>
    <a href="../2023/fosdem/">
      06 February - Report from FOSDEM23: beautiful chaos in a conference
    </a>
  </li>
  
  <li>
    <a href="install-github-from-pyproject/">
      31 December - Install dependencies from GitHub with pyproject.toml or requirements.txt
    </a>
  </li>
  
  <li>
    <a href="jupyterlite-workshop/">
      10 December - Report from the JupyterLite workshop: WebAssembly is pretty cool
    </a>
  </li>
  
  <li>
    <a href="matplotlib-remote-font/">
      06 December - Load and plot a remote font with Matplotlib
    </a>
  </li>
  
</ul>
</div>
</div>
        <div class="sidebar-start-items__item">
<div class="ablog-sidebar-item ablog__archive">
<h3>
  <a href="../archive/">Archives</a>
</h3>
<ul>
  
  
  <li>
    <a href="../2023/">2023 (2)</a>
  </li>
  
  
  
  <li>
    <a href="#">2022 (11)</a>
  </li>
  
  
  
  <li>
    <a href="../2021/">2021 (1)</a>
  </li>
  
  
  
  <li>
    <a href="../2020/">2020 (4)</a>
  </li>
  
  
  
  <li>
    <a href="../2019/">2019 (7)</a>
  </li>
  
  
  
  <li>
    <a href="../2018/">2018 (11)</a>
  </li>
  
  
  
  <li>
    <a href="../2017/">2017 (3)</a>
  </li>
  
  
  
  <li>
    <a href="../2016/">2016 (6)</a>
  </li>
  
  
  
  <li>
    <a href="../2015/">2015 (4)</a>
  </li>
  
  
</ul>
</div>
</div>
    </div>
  
  
  <div class="sidebar-end-items sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>

      </div>
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article"><div class="header-article-items header-article__section">
  
    <div class="header-article-items__start">
      
        <div class="header-article-start-item">



<nav aria-label="breadcrumbs">
  <ul class="bd-breadcrumbs" role="navigation" aria-label="Breadcrumb">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../../" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    <li class="breadcrumb-item active" aria-current="page">Posted in 2022</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div></div>
              
              

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  

<div class="section ablog__collection">
  <h1>
    
      Posted in
      
    2022
    
  </h1>
  
  
  <div class="section ablog-post">
    <h2 class="ablog-post-title">
      <a href="install-github-from-pyproject/">Install dependencies from GitHub with pyproject.toml or requirements.txt</a>
    </h2>
    <ul class="ablog-archive">
      <li>
        
        
        <i class="fa fa-calendar"></i>
        
        31 December 2022
        
      </li>
      




<li id="ablog-sidebar-item category ablog__category">
  <span>
    
    <i class="fa-fw fa fa-folder-open"></i>
    
    </span>
  
  
  <a href="../category/til/">til</a>
  
  
  
</li>


<li id="ablog-sidebar-item tags ablog__tags">
  <span>
    
    
    <i class="fa-fw fa fa-tag"></i>
    
    </span>
  
  
  <a href="../tag/software-development/">software development</a>
  
  
  
</li>


    </ul>
    <div class="ablog-post-excerpt docutils container">
<p>This is a short post to demonstrate how to install packages directly from GitHub with <code class="docutils literal notranslate"><span class="pre">pyprojects.toml</span></code> or <code class="docutils literal notranslate"><span class="pre">requirementst.txt</span></code>, including custom branches and commits.
It will focus on <code class="docutils literal notranslate"><span class="pre">pyprojects.toml</span></code> because this is newer and there’s less information about it, but the general pattern holds for <code class="docutils literal notranslate"><span class="pre">requirements.txt</span></code> as well.</p>
<p>In <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code>, you can specify dependencies for a project via the <code class="docutils literal notranslate"><span class="pre">dependencies</span></code> field.
For example, to specify <a class="reference external" href="https://sphinx-doc.org">Sphinx</a> as a dependency:</p>
</div>

    <p class="ablog-post-expand"><a href="install-github-from-pyproject/"><em>Read more ...</em></a></p>
    <hr/>
  </div>
  
  <div class="section ablog-post">
    <h2 class="ablog-post-title">
      <a href="jupyterlite-workshop/">Report from the JupyterLite workshop: WebAssembly is pretty cool</a>
    </h2>
    <ul class="ablog-archive">
      <li>
        
        
        <i class="fa fa-calendar"></i>
        
        10 December 2022
        
      </li>
      




<li id="ablog-sidebar-item category ablog__category">
  <span>
    
    <i class="fa-fw fa fa-folder-open"></i>
    
    </span>
  
  
  <a href="../category/reports/">reports</a>
  
  
  
</li>


<li id="ablog-sidebar-item tags ablog__tags">
  <span>
    
    
    <i class="fa-fw fa fa-tags"></i>
    
    
    </span>
  
  
  <a href="../tag/webassembly/">webassembly</a>
  
  
  
  
  
  <a href="../tag/jupyter/">jupyter</a>
  
  
  
</li>


    </ul>
    <div class="ablog-post-excerpt docutils container">
<p>I recently attended <a class="reference external" href="https://blog.jupyter.org/community-workshop-jupyterlite-e992c61f5d7f?source=collection_home---6------6-----------------------">the JupyterLite community workshop in Paris</a>, here are some quick thoughts from the three-day event<a class="footnote-reference brackets" href="#ack" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>.</p>
<p>For those without any background, JupyterLite is a distribution of Jupyter’s user interfaces and a Python kernel that runs <strong>entirely in the browser</strong>.
Its goal is to provide a low-overhead and accessible way to use a Jupyter interface via the browser.
See <a class="reference external" href="https://jupyterlite.readthedocs.io/">the <code class="docutils literal notranslate"><span class="pre">jupyterlite</span></code> documentation for more information</a>.</p>
</div>

    <p class="ablog-post-expand"><a href="jupyterlite-workshop/"><em>Read more ...</em></a></p>
    <hr/>
  </div>
  
  <div class="section ablog-post">
    <h2 class="ablog-post-title">
      <a href="matplotlib-remote-font/">Load and plot a remote font with Matplotlib</a>
    </h2>
    <ul class="ablog-archive">
      <li>
        
        
        <i class="fa fa-calendar"></i>
        
        06 December 2022
        
      </li>
      




<li id="ablog-sidebar-item category ablog__category">
  <span>
    
    <i class="fa-fw fa fa-folder-open"></i>
    
    </span>
  
  
  <a href="../category/til/">til</a>
  
  
  
</li>


<li id="ablog-sidebar-item tags ablog__tags">
  <span>
    
    
    <i class="fa-fw fa fa-tag"></i>
    
    </span>
  
  
  <a href="../tag/matplotlib/">matplotlib</a>
  
  
  
</li>


    </ul>
    <div class="ablog-post-excerpt docutils container">
<p>As part of <a class="reference external" href="https://github.com/choldgraf/sphinx-social-previews">my <code class="docutils literal notranslate"><span class="pre">sphinx-social-previews</span></code></a> prototype, I wanted to be able to use the <a class="reference external" href="https://fonts.google.com/specimen/Roboto">Roboto Font from Google</a> in image previews.
However, Roboto is often not loaded on your local filesystem, so it took some digging to figure out how to make it possible to load via <a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.text.html">Matplotlib’s text plotting functionality</a>.</p>
<p>Here’s the solution that finally worked for me, inspired <a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.text.html">from this Tweet with a similar implementation</a> from <a class="reference external" href="https://github.com/whitead/dmol-book/blob/master/package/dmol/__init__.py">the <code class="docutils literal notranslate"><span class="pre">dmol</span></code> book</a>.</p>
<img alt="../../_images/d8380871415134fa7c598109cbe5ff83bf4a51bd6708b80e5d0434f48b95d674.png" src="../../_images/d8380871415134fa7c598109cbe5ff83bf4a51bd6708b80e5d0434f48b95d674.png" />
</div>

    <p class="ablog-post-expand"><a href="matplotlib-remote-font/"><em>Read more ...</em></a></p>
    <hr/>
  </div>
  
  <div class="section ablog-post">
    <h2 class="ablog-post-title">
      <a href="sphinx-update-config/">Update Sphinx configuration during the build by modifying app.config</a>
    </h2>
    <ul class="ablog-archive">
      <li>
        
        
        <i class="fa fa-calendar"></i>
        
        05 December 2022
        
      </li>
      




<li id="ablog-sidebar-item category ablog__category">
  <span>
    
    <i class="fa-fw fa fa-folder-open"></i>
    
    </span>
  
  
  <a href="../category/til/">til</a>
  
  
  
</li>


<li id="ablog-sidebar-item tags ablog__tags">
  <span>
    
    
    <i class="fa-fw fa fa-tag"></i>
    
    </span>
  
  
  <a href="../tag/sphinx/">sphinx</a>
  
  
  
</li>


    </ul>
    <div class="ablog-post-excerpt docutils container">
<p>As part of <a class="reference external" href="https://github.com/pydata/pydata-sphinx-theme/pull/1075">the <code class="docutils literal notranslate"><span class="pre">pydata-sphinx-theme</span></code></a> we have a few settings that auto-enable extensions and configure them on behalf of the user.
It has always been mysterious to me how to do this properly <strong>during the Sphinx build</strong>.
It’s easy to configure things with <code class="docutils literal notranslate"><span class="pre">conf.py</span></code> ahead of time, but what if you want to manually set a value during the build?</p>
<p>I finally figured it out, so documenting the process here:</p>
</div>

    <p class="ablog-post-expand"><a href="sphinx-update-config/"><em>Read more ...</em></a></p>
    <hr/>
  </div>
  
  <div class="section ablog-post">
    <h2 class="ablog-post-title">
      <a href="precommit-autoupdate/">Automatically update pre-commit hook versions</a>
    </h2>
    <ul class="ablog-archive">
      <li>
        
        
        <i class="fa fa-calendar"></i>
        
        03 December 2022
        
      </li>
      




<li id="ablog-sidebar-item category ablog__category">
  <span>
    
    <i class="fa-fw fa fa-folder-open"></i>
    
    </span>
  
  
  <a href="../category/til/">til</a>
  
  
  
</li>


<li id="ablog-sidebar-item tags ablog__tags">
  <span>
    
    
    <i class="fa-fw fa fa-tags"></i>
    
    
    </span>
  
  
  <a href="../tag/python/">python</a>
  
  
  
  
  
  <a href="../tag/git/">git</a>
  
  
  
</li>


    </ul>
    <div class="ablog-post-excerpt docutils container">
<p>I figured out a way to automatically update all of the git <code class="docutils literal notranslate"><span class="pre">pre-commit</span></code> hook versions at once!</p>
<p><a class="reference external" href="https://pre-commit.com/"><code class="docutils literal notranslate"><span class="pre">pre-commit</span></code></a> is a useful command line tool for running simple commands before every <code class="docutils literal notranslate"><span class="pre">git</span></code> commit.
I use it to enforce things like <a class="reference external" href="https://flake8.pycqa.org/"><code class="docutils literal notranslate"><span class="pre">flake8</span></code></a> and <a class="reference external" href="https://github.com/psf/black"><code class="docutils literal notranslate"><span class="pre">black</span></code></a> in many of my projects.</p>
</div>

    <p class="ablog-post-expand"><a href="precommit-autoupdate/"><em>Read more ...</em></a></p>
    <hr/>
  </div>
  
  <div class="section ablog-post">
    <h2 class="ablog-post-title">
      <a href="shell-split/">subprocess.run can execute shell commands directly</a>
    </h2>
    <ul class="ablog-archive">
      <li>
        
        
        <i class="fa fa-calendar"></i>
        
        29 November 2022
        
      </li>
      




<li id="ablog-sidebar-item category ablog__category">
  <span>
    
    <i class="fa-fw fa fa-folder-open"></i>
    
    </span>
  
  
  <a href="../category/til/">til</a>
  
  
  
</li>


<li id="ablog-sidebar-item tags ablog__tags">
  <span>
    
    
    <i class="fa-fw fa fa-tags"></i>
    
    
    </span>
  
  
  <a href="../tag/shell/">shell</a>
  
  
  
  
  
  <a href="../tag/python/">python</a>
  
  
  
</li>


    </ul>
    <div class="ablog-post-excerpt docutils container">
<p>I often run shell commands in Python via the <a class="reference external" href="https://docs.python.org/3/library/subprocess.html#subprocess.run"><code class="docutils literal notranslate"><span class="pre">subprocess.run</span></code> command</a>.
One thing that has always bugged me is that this required you to split commands into a list before it’d work properly.
For example, you’d have to do:</p>
<p>Today I discovered that you don’t have to do this!
There’s a <code class="docutils literal notranslate"><span class="pre">shell=</span></code> keyword that can be used to tell subprocess to simply run the command directly in the shell.</p>
</div>

    <p class="ablog-post-expand"><a href="shell-split/"><em>Read more ...</em></a></p>
    <hr/>
  </div>
  
  <div class="section ablog-post">
    <h2 class="ablog-post-title">
      <a href="phantom-workflows-pull-requests/">Fix phantom GitHub workflows in your ci-cd with protected branch rules</a>
    </h2>
    <ul class="ablog-archive">
      <li>
        
        
        <i class="fa fa-calendar"></i>
        
        27 November 2022
        
      </li>
      




<li id="ablog-sidebar-item category ablog__category">
  <span>
    
    <i class="fa-fw fa fa-folder-open"></i>
    
    </span>
  
  
  <a href="../category/til/">til</a>
  
  
  
</li>


<li id="ablog-sidebar-item tags ablog__tags">
  <span>
    
    
    <i class="fa-fw fa fa-tags"></i>
    
    
    </span>
  
  
  <a href="../tag/cicd/">cicd</a>
  
  
  
  
  
  <a href="../tag/github-actions/">github actions</a>
  
  
  
</li>


    </ul>
    <div class="ablog-post-excerpt docutils container">
<p>Have you ever had a GitHub pull request show “phantom” workflows that never pass?
This looks like one or more workflows that are in a constant <strong>waiting state</strong>, with a yellow status indicator, and that never complete.</p>
<p>It looks something like this:</p>
<img alt="https://user-images.githubusercontent.com/1839645/204134864-da2541f0-ff4f-4d9f-8c80-aa8c4437d8a0.png" src="https://user-images.githubusercontent.com/1839645/204134864-da2541f0-ff4f-4d9f-8c80-aa8c4437d8a0.png" />
</div>

    <p class="ablog-post-expand"><a href="phantom-workflows-pull-requests/"><em>Read more ...</em></a></p>
    <hr/>
  </div>
  
  <div class="section ablog-post">
    <h2 class="ablog-post-title">
      <a href="sphinx-custom-crossrefs/">Custom roles and domains in Sphinx with one line</a>
    </h2>
    <ul class="ablog-archive">
      <li>
        
        
        <i class="fa fa-calendar"></i>
        
        21 November 2022
        
      </li>
      




<li id="ablog-sidebar-item category ablog__category">
  <span>
    
    <i class="fa-fw fa fa-folder-open"></i>
    
    </span>
  
  
  <a href="../category/til/">til</a>
  
  
  
</li>


<li id="ablog-sidebar-item tags ablog__tags">
  <span>
    
    
    <i class="fa-fw fa fa-tags"></i>
    
    
    </span>
  
  
  <a href="../tag/sphinx/">sphinx</a>
  
  
  
  
  
  <a href="../tag/scholarship/">scholarship</a>
  
  
  
  
  
  <a href="../tag/myst/">myst</a>
  
  
  
</li>


    </ul>
    <div class="ablog-post-excerpt docutils container">
<p>I was working on <a class="reference external" href="https://compass.2i2c.org">the roles and structure section of the 2i2c Team Compass</a> and found a nifty feature in Sphinx that I hadn’t known before.</p>
<p>You can currently add labels to any section with the following MyST Markdown structure:</p>
</div>

    <p class="ablog-post-expand"><a href="sphinx-custom-crossrefs/"><em>Read more ...</em></a></p>
    <hr/>
  </div>
  
  <div class="section ablog-post">
    <h2 class="ablog-post-title">
      <a href="orcid-auto-update/">Automatically updating my publications page with ORCID and doi.org</a>
    </h2>
    <ul class="ablog-archive">
      <li>
        
        
        <i class="fa fa-calendar"></i>
        
        19 November 2022
        
      </li>
      




<li id="ablog-sidebar-item category ablog__category">
  <span>
    
    <i class="fa-fw fa fa-folder-open"></i>
    
    </span>
  
  
  <a href="../category/til/">til</a>
  
  
  
</li>


<li id="ablog-sidebar-item tags ablog__tags">
  <span>
    
    
    <i class="fa-fw fa fa-tags"></i>
    
    
    </span>
  
  
  <a href="../tag/scholarship/">scholarship</a>
  
  
  
  
  
  <a href="../tag/doi/">doi</a>
  
  
  
  
  
  <a href="../tag/orcid/">orcid</a>
  
  
  
</li>


    </ul>
    <div class="ablog-post-excerpt docutils container">
<p>For a while I’ve had a hand-crafted <code class="docutils literal notranslate"><span class="pre">.bibtex</span></code> file stored locally for <a class="reference internal" href="../../publications/"><span class="doc std std-doc">my <code class="docutils literal notranslate"><span class="pre">publications/</span></code> page</span></a>.
However, manually updating local text file is a pain to remember, especially since there are many services out there that automatically track new publications.</p>
<p>A <a class="reference external" href="https://twitter.com/temorrell/status/1594749942316208128">helpful suggestion on Twitter</a> allowed me to include the full citation information, including lists of authors, using the doi.org API!</p>
</div>

    <p class="ablog-post-expand"><a href="orcid-auto-update/"><em>Read more ...</em></a></p>
    <hr/>
  </div>
  
  <div class="section ablog-post">
    <h2 class="ablog-post-title">
      <a href="sphinx-redirects-folder/">Automatically redirect folders in Sphinx websites</a>
    </h2>
    <ul class="ablog-archive">
      <li>
        
        
        <i class="fa fa-calendar"></i>
        
        19 November 2022
        
      </li>
      




<li id="ablog-sidebar-item category ablog__category">
  <span>
    
    <i class="fa-fw fa fa-folder-open"></i>
    
    </span>
  
  
  <a href="../category/til/">til</a>
  
  
  
</li>



    </ul>
    <div class="ablog-post-excerpt docutils container">
<p>I spent a bit of time today updating my website after some changes in the MyST-NB and Sphinx Design ecosystems.
Along the way, I decided to redirect <code class="docutils literal notranslate"><span class="pre">/posts/</span></code> to <code class="docutils literal notranslate"><span class="pre">/blog/</span></code>, since it seems <code class="docutils literal notranslate"><span class="pre">/blog/</span></code> is a much more common folder to use for blog posts.</p>
<p>This posed a problem, because <a class="reference external" href="https://github.com/wpilibsuite/sphinxext-rediraffe">the <code class="docutils literal notranslate"><span class="pre">sphinx-rediraffe</span></code> extension</a> does not allow you to redirect folders with wildcards.
AKA, you cannot do:</p>
</div>

    <p class="ablog-post-expand"><a href="sphinx-redirects-folder/"><em>Read more ...</em></a></p>
    <hr/>
  </div>
  
  <div class="section ablog-post">
    <h2 class="ablog-post-title">
      <a href="cloud-services-academia/">Ask Twitter: Why don’t academic researchers use cloud services?</a>
    </h2>
    <ul class="ablog-archive">
      <li>
        
        
        <i class="fa fa-calendar"></i>
        
        05 September 2022
        
      </li>
      




<li id="ablog-sidebar-item category ablog__category">
  <span>
    
    <i class="fa-fw fa fa-folder-open"></i>
    
    </span>
  
  
  <a href="../category/report/">report</a>
  
  
  
</li>


<li id="ablog-sidebar-item tags ablog__tags">
  <span>
    
    
    <i class="fa-fw fa fa-tag"></i>
    
    </span>
  
  
  <a href="../tag/cloud/">cloud</a>
  
  
  
</li>


    </ul>
    <div class="ablog-post-excerpt docutils container">
<p><em>this is an experiment at making my <a class="reference external" href="https://twitter.com/choldgraf">Twitter conversations</a> a bit more useful and archivable over time. It’s going to be a bit messy and unpolished, but hopefully that makes it more likely I’ll actually do it :-)</em></p>
<p>Over the past decade, cloud infrastructure has become increasingly popular in industry.
An ecosystem of modular tools and cloud services (often called <a class="reference external" href="https://future.com/emerging-architectures-modern-data-infrastructure/">the Modern Data Stack</a>) has filled many data needs for companies.</p>
</div>

    <p class="ablog-post-expand"><a href="cloud-services-academia/"><em>Read more ...</em></a></p>
    <hr/>
  </div>
  
  
</div>

                </article>
              
<!-- Add a comment box underneath the page's content -->
<script src="https://giscus.app/client.js"
        data-repo="choldgraf/choldgraf.github.io"
        data-repo-id="MDEwOlJlcG9zaXRvcnk1MTIzNzA1NA=="
        data-category="Blog comments"
        data-category-id="DIC_kwDOAw3Qvs4CAV4E"
        data-mapping="pathname"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-theme="light"
        data-lang="en"
        crossorigin="anonymous"
        async>
</script>

              
              
                <footer class="bd-footer-article">
                  <!-- Previous / next buttons -->
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
            
          </div>
          <footer class="bd-footer-content">
            <div class="bd-footer-content__inner"></div>
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=752cbf1e58c09e799737"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=752cbf1e58c09e799737"></script>

  <footer class="bd-footer"><div class="bd-footer__inner container">
  
    <div class="footer-item">
  <p class="copyright">
    
      © Copyright 2022, Chris Holdgraf.
      <br/>
    
  </p>
</div>
  
    <div class="footer-item"><p class="theme-version">
  Built with the
  <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a>
  0.13.0rc3.dev0.
</p></div>
  
    <div class="footer-item">
  <p class="sphinx-version">
    Created using <a href="https://sphinx-doc.org/">Sphinx</a> 5.3.0.
    <br/>
  </p>
</div>
  
</div>
  </footer>
  </body>
</html>