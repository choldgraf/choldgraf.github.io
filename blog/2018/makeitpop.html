<!DOCTYPE html><html lang="en" class="" style="scroll-padding:60px"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Introducing makeitpop, a tool to perceptually warp your data!&quot; - Welcome</title><meta property="og:title" content="Introducing makeitpop, a tool to perceptually warp your data!&quot; - Welcome"/><meta name="generator" content="mystmd"/><meta name="keywords" content=""/><meta name="image" content="/build/profile-color-circle-63cabbae832d6fe8f41209f45ff7df6c.png"/><meta property="og:image" content="/build/profile-color-circle-63cabbae832d6fe8f41209f45ff7df6c.png"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:creator" content="@choldgraf"/><meta name="twitter:title" content="Introducing makeitpop, a tool to perceptually warp your data!&quot; - Welcome"/><meta name="twitter:image" content="/build/profile-color-circle-63cabbae832d6fe8f41209f45ff7df6c.png"/><meta name="twitter:alt" content="Introducing makeitpop, a tool to perceptually warp your data!&quot; - Welcome"/><link rel="icon" href="/favicon.ico"/><link rel="stylesheet" href="/build/_assets/app-H3NBUYVS.css"/><link rel="stylesheet" href="/build/_assets/thebe-core-VKVHG5VY.css"/><link rel="stylesheet" href="/myst-theme.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jupyter-matplotlib@0.11.3/css/mpl_widget.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css" integrity="sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ" crossorigin="anonymous"/><script>
  const savedTheme = localStorage.getItem("myst:theme");
  const theme = window.matchMedia("(prefers-color-scheme: light)").matches ? 'light' : 'dark';
  const classes = document.documentElement.classList;
  const hasAnyTheme = classes.contains('light') || classes.contains('dark');
  if (!hasAnyTheme) classes.add(savedTheme ?? theme);
</script></head><body class="m-0 transition-colors duration-500 bg-white dark:bg-stone-900"><div class="fixed top-1 left-1 h-[0px] w-[0px] focus-within:z-40 focus-within:h-auto focus-within:w-auto bg-white overflow-hidden focus-within:p-2 focus-within:ring-1" aria-label="skip to content options"><a href="#skip-to-frontmatter" class="block px-2 py-1 text-black underline">Skip to article frontmatter</a><a href="#skip-to-article" class="block px-2 py-1 text-black underline">Skip to article content</a></div><div class="bg-white/80 backdrop-blur dark:bg-stone-900/80 shadow dark:shadow-stone-700 p-3 md:px-8 sticky w-screen top-0 z-30 h-[60px]"><nav class="flex items-center justify-between flex-nowrap max-w-[1440px] mx-auto"><div class="flex flex-row xl:min-w-[19.5rem] mr-2 sm:mr-7 justify-start items-center shrink-0"><div class="block xl:hidden"><button class="flex items-center border-stone-400 text-stone-800 hover:text-stone-900 dark:text-stone-200 hover:dark:text-stone-100"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" width="2rem" height="2rem" class="m-1"><path fill-rule="evenodd" d="M3 6.75A.75.75 0 0 1 3.75 6h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 6.75ZM3 12a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 12Zm0 5.25a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Z" clip-rule="evenodd"></path></svg><span class="sr-only">Open Menu</span></button></div><a class="flex items-center ml-3 dark:text-white w-fit md:ml-5 xl:ml-7" href="/"><span class="text-md sm:text-xl tracking-tight sm:mr-5">Chris Holdgraf</span></a></div><div class="flex items-center flex-grow w-auto"><div class="flex-grow hidden text-md lg:block"><div class="relative inline-block mx-2 grow-0"><a class="inline-flex items-center justify-center w-full mx-2 py-1 text-md font-medium dark:text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75" href="/about">About</a></div><div class="relative inline-block mx-2 grow-0"><a class="inline-flex items-center justify-center w-full mx-2 py-1 text-md font-medium dark:text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75" href="/projects">Projects</a></div><div class="relative inline-block mx-2 grow-0"><a class="inline-flex items-center justify-center w-full mx-2 py-1 text-md font-medium dark:text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75" href="/publications">Publications</a></div><div class="relative inline-block mx-2 grow-0"><a class="inline-flex items-center justify-center w-full mx-2 py-1 text-md font-medium dark:text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75" href="/talks">Talks</a></div><div class="relative inline-block mx-2 grow-0"><a aria-current="page" class="inline-flex items-center justify-center w-full mx-2 py-1 text-md font-medium dark:text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75 border-b border-stone-200" href="/blog">Blog</a></div></div><div class="flex-grow block"></div><button type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R3iop:" data-state="closed" class="flex items-center h-10 aspect-square sm:w-64 text-left text-gray-400 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 hover:ring-blue-500 dark:hover:ring-blue-500 hover:border-blue-500 dark:hover:border-blue-500"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="p-2.5 h-10 w-10 aspect-square"><path fill-rule="evenodd" d="M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z" clip-rule="evenodd"></path></svg><span class="hidden sm:block grow">Search</span><div aria-hidden="true" class="items-center hidden mx-1 font-mono text-sm text-gray-400 sm:flex gap-x-1"><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none hide-mac">CTRL</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none show-mac">⌘</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none ">K</kbd><script>
;(() => {
const script = document.currentScript;
const root = script.parentElement;

const isMac = /mac/i.test(
      window.navigator.userAgentData?.platform ?? window.navigator.userAgent,
    );
root.querySelectorAll(".hide-mac").forEach(node => {node.classList.add(isMac ? "hidden" : "block")});
root.querySelectorAll(".show-mac").forEach(node => {node.classList.add(!isMac ? "hidden" : "block")});
})()</script></div></button><button class="theme rounded-full aspect-square border border-stone-700 dark:border-white hover:bg-neutral-100 border-solid overflow-hidden text-stone-700 dark:text-white hover:text-stone-500 dark:hover:text-neutral-800 w-8 h-8 mx-3" title="Toggle theme between light and dark mode." aria-label="Toggle theme between light and dark mode."><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="h-full w-full p-0.5 hidden dark:block"><path fill-rule="evenodd" d="M9.528 1.718a.75.75 0 0 1 .162.819A8.97 8.97 0 0 0 9 6a9 9 0 0 0 9 9 8.97 8.97 0 0 0 3.463-.69.75.75 0 0 1 .981.98 10.503 10.503 0 0 1-9.694 6.46c-5.799 0-10.5-4.7-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 0 1 .818.162Z" clip-rule="evenodd"></path></svg><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="h-full w-full p-0.5 dark:hidden"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"></path></svg></button><div class="block sm:hidden"><div class="relative" data-headlessui-state=""><div><button class="flex text-sm bg-transparent rounded-full focus:outline-none" id="headlessui-menu-button-:Rdiop:" type="button" aria-haspopup="menu" aria-expanded="false" data-headlessui-state=""><span class="sr-only">Open Menu</span><div class="flex items-center text-stone-200 hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" width="2rem" height="2rem" class="p-1"><path fill-rule="evenodd" d="M10.5 6a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Zm0 6a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Zm0 6a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Z" clip-rule="evenodd"></path></svg></div></button></div></div></div><div class="hidden sm:block"><a href="https://chrisholdgraf.com/rss.xml" target="_blank" rel="noopener noreferrer" class="inline-block px-4 py-2 mx-1 mt-0 leading-none border rounded text-md border-stone-700 dark:border-white text-stone-700 dark:text-white hover:text-stone-500 dark:hover:text-neutral-800 hover:bg-neutral-100">RSS</a></div></div></nav></div><div class="fixed xl:article-grid grid-gap xl:w-screen xl:pointer-events-none overflow-auto max-xl:min-w-[300px] hidden z-10" style="top:60px"><div class="pointer-events-auto xl:col-margin-left flex-col overflow-hidden hidden xl:flex"><div class="flex-grow py-6 overflow-y-auto"><nav aria-label="Navigation" class="overflow-y-hidden transition-opacity ml-3 xl:ml-0 mr-3 max-w-[350px] lg:hidden"><div class="w-full px-1 dark:text-white"><a class="p-2 my-1 rounded-lg hover:bg-slate-300/30 block break-words focus:outline outline-blue-200 outline-2 rounded" href="/about">About</a><a class="p-2 my-1 rounded-lg hover:bg-slate-300/30 block break-words focus:outline outline-blue-200 outline-2 rounded" href="/projects">Projects</a><a class="p-2 my-1 rounded-lg hover:bg-slate-300/30 block break-words focus:outline outline-blue-200 outline-2 rounded" href="/publications">Publications</a><a class="p-2 my-1 rounded-lg hover:bg-slate-300/30 block break-words focus:outline outline-blue-200 outline-2 rounded" href="/talks">Talks</a><a aria-current="page" class="p-2 my-1 rounded-lg hover:bg-slate-300/30 block break-words focus:outline outline-blue-200 outline-2 rounded active" href="/blog">Blog</a></div></nav><div class="my-3 border-b-2 lg:hidden"></div><nav aria-label="Table of Contents" class="flex-grow overflow-y-hidden transition-opacity ml-3 xl:ml-0 mr-3 max-w-[350px]"><div class="w-full px-1 dark:text-white"><a title="Welcome" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30 font-bold" href="/">Welcome</a><a title="About me" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/about">About me</a><a title="Projects" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/projects">Projects</a><a title="Publications" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/publications">Publications</a><a title="Talks" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/talks">Talks</a><div data-state="open" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><a title="Blog" aria-current="page" class="block break-words focus:outline outline-blue-200 outline-2 rounded py-2 grow font-semibold text-blue-800 dark:text-blue-200 active" href="/blog">Blog</a><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:Rrd8p:" aria-expanded="true" data-state="open"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="open" id="radix-:Rrd8p:" class="pl-3 pr-[2px] collapsible-content"><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="2024" class="block break-words rounded py-2 grow cursor-pointer">2024</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:Rdrd8p:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:Rdrd8p:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="2023" class="block break-words rounded py-2 grow cursor-pointer">2023</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:Rlrd8p:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:Rlrd8p:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="2022" class="block break-words rounded py-2 grow cursor-pointer">2022</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:Rtrd8p:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:Rtrd8p:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="2021" class="block break-words rounded py-2 grow cursor-pointer">2021</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R15rd8p:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R15rd8p:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="2020" class="block break-words rounded py-2 grow cursor-pointer">2020</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R1drd8p:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R1drd8p:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="2019" class="block break-words rounded py-2 grow cursor-pointer">2019</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R1lrd8p:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R1lrd8p:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="open" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="2018" class="block break-words rounded py-2 grow font-semibold text-blue-800 dark:text-blue-200 cursor-pointer">2018</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R1trd8p:" aria-expanded="true" data-state="open"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="open" id="radix-:R1trd8p:" class="pl-3 pr-[2px] collapsible-content"><a title="Automatically mirror a github repository with CircleCI" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/blog/2018/circlci-github">Automatically mirror a github repository with CircleCI</a><a title="Using CircleCI to preview documentation in Pull Requests" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/blog/2018/circle-docs">Using CircleCI to preview documentation in Pull Requests</a><a title="Summer conference report back" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/blog/2018/conferences-summer-2018">Summer conference report back</a><a title="An academic scientist goes to DevOps Days" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/blog/2018/devopsdays-sv-2018">An academic scientist goes to DevOps Days</a><a title="Open communities need to be partners, not sources of free labor" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/blog/2018/free-labor-partners">Open communities need to be partners, not sources of free labor</a><a title="Blogging with Jupyter Notebooks and Jekyll using nbconvert templates" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/blog/2018/jekyllmarkdown">Blogging with Jupyter Notebooks and Jekyll using nbconvert templates</a><a title="How do projects signal how “open” they are?" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/blog/2018/kinds-of-openness">How do projects signal how “open” they are?</a><a title="Introducing makeitpop, a tool to perceptually warp your data!&quot;" aria-current="page" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg bg-blue-300/30 active" href="/blog/2018/makeitpop">Introducing makeitpop, a tool to perceptually warp your data!&quot;</a><a title="My weekly workflow" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/blog/2018/my-workflow">My weekly workflow</a><a title="I like Rust’s governance structure" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/blog/2018/rust-governance">I like Rust’s governance structure</a><a title="Adding copy buttons to code blocks in Sphinx" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/blog/2018/sphinx-copy-buttons">Adding copy buttons to code blocks in Sphinx</a></div></div><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="2017" class="block break-words rounded py-2 grow cursor-pointer">2017</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R25rd8p:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R25rd8p:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="2016" class="block break-words rounded py-2 grow cursor-pointer">2016</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R2drd8p:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R2drd8p:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="2015" class="block break-words rounded py-2 grow cursor-pointer">2015</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R2lrd8p:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R2lrd8p:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div></div></div></div></nav></div><div class="flex-none py-6 transition-all duration-700 translate-y-6 opacity-0"><a class="flex mx-auto text-gray-700 w-fit hover:text-blue-700 dark:text-gray-200 dark:hover:text-blue-400" href="https://mystmd.org/made-with-myst" target="_blank" rel="noreferrer"><svg style="width:24px;height:24px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" stroke="none"><g id="icon"><path fill="currentColor" d="M23.8,54.8v-3.6l4.7-0.8V17.5l-4.7-0.8V13H36l13.4,31.7h0.2l13-31.7h12.6v3.6l-4.7,0.8v32.9l4.7,0.8v3.6h-15
          v-3.6l4.9-0.8V20.8H65L51.4,53.3h-3.8l-14-32.5h-0.1l0.2,17.4v12.1l5,0.8v3.6H23.8z"></path><path fill="#F37726" d="M47,86.9c0-5.9-3.4-8.8-10.1-8.8h-8.4c-5.2,0-9.4-1.3-12.5-3.8c-3.1-2.5-5.4-6.2-6.8-11l4.8-1.6
          c1.8,5.6,6.4,8.6,13.8,8.8h9.2c6.4,0,10.8,2.5,13.1,7.5c2.3-5,6.7-7.5,13.1-7.5h8.4c7.8,0,12.7-2.9,14.6-8.7l4.8,1.6
          c-1.4,4.9-3.6,8.6-6.8,11.1c-3.1,2.5-7.3,3.7-12.4,3.8H63c-6.7,0-10,2.9-10,8.8"></path></g></svg><span class="self-center ml-2 text-sm">Made with MyST</span></a></div></div></div><article class="article content article-grid grid-gap"><main class="article-grid subgrid-gap col-screen"><div class="hidden"></div><div id="skip-to-frontmatter" aria-label="article frontmatter" class="mb-8 pt-9"><div class="flex items-center h-6 mb-5 text-sm font-light"><div class="flex-grow"></div><a href="https://github.com/choldgraf/choldgraf.github.io" title="GitHub Repository: choldgraf/choldgraf.github.io" target="_blank" rel="noopener noreferrer" class="text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="inline-block mr-1 opacity-60 hover:opacity-100"><path d="M12 2.5c-5.4 0-9.8 4.4-9.8 9.7 0 4.3 2.8 8 6.7 9.2.5.1.7-.2.7-.5v-1.8c-2.4.5-3.1-.6-3.3-1.1-.1-.3-.6-1.1-1-1.4-.3-.2-.8-.6 0-.6s1.3.7 1.5 1c.9 1.5 2.3 1.1 2.8.8.1-.6.3-1.1.6-1.3-2.2-.2-4.4-1.1-4.4-4.8 0-1.1.4-1.9 1-2.6-.1-.2-.4-1.2.1-2.6 0 0 .8-.3 2.7 1 .8-.2 1.6-.3 2.4-.3.8 0 1.7.1 2.4.3 1.9-1.3 2.7-1 2.7-1 .5 1.3.2 2.3.1 2.6.6.7 1 1.5 1 2.6 0 3.7-2.3 4.6-4.4 4.8.4.3.7.9.7 1.8V21c0 .3.2.6.7.5 3.9-1.3 6.6-4.9 6.6-9.2 0-5.4-4.4-9.8-9.8-9.8z"></path></svg></a><div class="inline-block mr-1"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="inline-block"><title>Jupyter Notebook</title><path d="M20.2 1.7c0 .8-.5 1.4-1.3 1.5-.8 0-1.4-.5-1.5-1.3 0-.8.5-1.4 1.3-1.5.8-.1 1.5.5 1.5 1.3zM12 17.9c-3.7 0-7-1.3-8.7-3.3 1.8 4.8 7.1 7.3 11.9 5.5 2.5-.9 4.5-2.9 5.5-5.5-1.7 2-4.9 3.3-8.7 3.3zM12 5.1c3.7 0 7 1.3 8.7 3.3-1.8-4.8-7.1-7.3-11.9-5.5-2.5.9-4.5 2.9-5.5 5.5 1.7-2 5-3.3 8.7-3.3zM6.9 21.8c.1 1-.7 1.8-1.7 1.9-1 .1-1.8-.7-1.9-1.7 0-1 .7-1.8 1.7-1.9 1-.1 1.8.7 1.9 1.7zM3.7 4.6c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1c0 .5-.4 1-1 1z"></path></svg></div><div class="relative flex inline-block mx-1 grow-0" data-headlessui-state=""><button class="relative ml-2 -mr-1" id="headlessui-menu-button-:Rd4fop:" type="button" aria-haspopup="menu" aria-expanded="false" data-headlessui-state=""><span class="sr-only">Downloads</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.25rem" height="1.25rem"><path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"></path></svg></button></div></div><h1 class="mb-0">Introducing makeitpop, a tool to perceptually warp your data!&quot;</h1><div class="flex mt-2 text-sm font-light"><time dateTime="2018-06-04" class="">June 4, 2018</time></div></div><div class="block my-10 lg:sticky lg:z-10 lg:h-0 lg:pt-0 lg:my-0 lg:ml-10 lg:col-margin-right" style="top:60px"><nav></nav></div><div id="skip-to-article"></div><div id="rIAxYfcjuM" class="relative group/block article-grid subgrid-gap col-screen"><hr class="py-2 my-5 translate-y-2"/><p>category: til
date: ‘2018-06-04’
featured_image: 3
kernelspec:
display_name: Python 3 (ipykernel)
language: python
name: python3
language_info:
codemirror_mode:
name: ipython
version: 3
file_extension: .py
mimetype: text/x-python
name: python
nbconvert_exporter: python
pygments_lexer: ipython3
version: 3.9.7
redirect: makeitpop-intro
tags:</p><ul><li>python colormaps
title: Introducing <em>makeitpop</em>, a tool to perceptually warp your data!</li></ul><hr class="py-2 my-5 translate-y-2"/><h1 id="introducing-makeitpop-a-tool-to-perceptually-warp-your-data" class="relative group"><span class="heading-text">Introducing <em>makeitpop</em>, a tool to perceptually warp your data!&quot;</span><a class="no-underline text-inherit hover:text-inherit px-2 font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#introducing-makeitpop-a-tool-to-perceptually-warp-your-data" title="Link to this Section" aria-label="Link to this Section">¶</a></h1><aside class="my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden rounded border-l-4 border-blue-500"><div class="m-0 font-medium py-1 flex min-w-0 text-lg text-blue-600 bg-blue-50 dark:bg-slate-900"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="2rem" height="2rem" class="inline-block pl-2 mr-2 self-center flex-none text-blue-600"><path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"></path></svg><div class="text-neutral-900 dark:text-white grow self-center overflow-hidden break-words">Note</div></div><div class="px-4 py-1"><p>It should go without saying, but <strong>you should never do the stuff that you’re about to read about here</strong>. Data is meant to speak for itself, and our visualizations should accurately reflect the data above all else.*</p></div></aside><p>When I was in graduate school, I tended to get on my soapbox and tell everybody
why they should <a target="_blank" href="http://jakevdp.github.io/blog/2014/10/16/how-bad-is-your-colormap/" rel="noreferrer">stop using Jet</a>
and adopt a “perceptually-flat” colormap like <a target="_blank" href="https://bids.github.io/colormap/" rel="noreferrer">viridis, magma, or inferno</a>.</p><p>Surprisingly (ok, maybe not so surprisingly) I got a lot of pushback from people. Folks would say <em>“But I like <strong>jet</strong>, it really highlights my data, it makes the images ‘pop’ more effectively than viridis!”</em>.</p><p>Unfortunately it turns out that when a colormap “makes your data pop”, it really just means “<a target="_blank" href="https://bids.github.io/colormap/" rel="noreferrer">warps your perception of the visualized data so that you see non-linearities when there are none</a>”. AKA, a colormap like Jet actually <em>mis-represents</em> the data.</p><p>But what does this really mean? It’s difficult to talk and think about coor - especially when it comes to relating color with objective relationships
between data. Rather than talking about colormaps in the abstract, what if we could <em>visualize</em> the warping that is performed by colormaps like Jet?</p><p>In this post I’ll show that this is possible! Introducing <strong><code>makeitpop</code></strong>.</p><h2 id="what-does-makeitpop-do" class="relative group"><span class="heading-text">What does <em>makeitpop</em> do?</span><a class="no-underline text-inherit hover:text-inherit px-2 font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#what-does-makeitpop-do" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>Makeitpop lets you apply the same perceptual warping that would <em>normally</em> be accomplished
with a colormap like Jet, but applies this warping to <em>the data itself</em>! This lets us
get the same effect with a nice linear colormap like <code>viridis</code>!</p><p>For example, let’s take a look at the <a target="_blank" href="https://matplotlib.org/gallery/images_contours_and_fields/image_demo.html#sphx-glr-gallery-images-contours-and-fields-image-demo-py" rel="noreferrer">image demo in matplotlib</a>. In it, we create two blobs that are meant to be visualized as an image. We’ll visualize this with our old friend viridis.</p></div><div id="QkXlQjuqQE" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Create a mesh grid with two gaussian blobs
delta = 0.025
x = y = np.arange(-3.0, 3.0, delta)
X, Y = np.meshgrid(x, y)
Z1 = np.exp(-X**2 - Y**2)
Z2 = np.exp(-(X - 1)**2 - (Y - 1)**2)
Z = (Z1 - Z2) * 2

# Visualize it
fig, ax = plt.subplots(figsize=(5, 5))
ax.imshow(Z, cmap=plt.cm.viridis,
          origin=&#x27;lower&#x27;, extent=[-3, 3, -3, 3],
          vmax=abs(Z).max(), vmin=-abs(Z).max())
ax.set(title=&quot;Original data\nlinear colormap&quot;)
plt.tight_layout()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="EdgcW1cRrc-crhQRlgda2" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><img src="/build/d73bb4a4e3d34ff442b6221bcbab289a.png" alt="&lt;Figure size 360x360 with 1 Axes&gt;"/></div></div><div id="ap7P8DtaiV" class="relative group/block article-grid subgrid-gap col-screen"><p>Hmmm, not too bad...but it’s a bit <em>boring</em>, no? Why can’t we make it snazzier? I know, let’s use Jet!</p></div><div id="KCXdUpRsJJ" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Visualize our data
fig, ax = plt.subplots(figsize=(5, 5))
ax.imshow(Z, cmap=plt.cm.jet,
          origin=&#x27;lower&#x27;, extent=[-3, 3, -3, 3],
          vmax=abs(Z).max(), vmin=-abs(Z).max())
ax.set(title=&quot;Original data\nnon-linear colormap&quot;)
plt.tight_layout()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="xYYNCMpcZ1eAfMBNOBNmM" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><img src="/build/1a8f3e638a5b938f6fa8524abd74732e.png" alt="&lt;Figure size 360x360 with 1 Axes&gt;"/></div></div><div id="VZjlmyHDsc" class="relative group/block article-grid subgrid-gap col-screen"><p>Oooh now that’s what I’m talking about. You can clearly see two peaks of significant results
at the center of each circle. Truly this is fit for publishing in <em>Nature</em>.</p><p>But...as you all know, this data only <em>looks</em> better because we’ve used a colormap that distorts
our perception of the underlying data.</p><p>Let’s illustrate this by <strong>making it pop</strong>!</p></div><div id="QL7z8hM6uE" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Pop the data!
Z_popped = makeitpop(Z, &#x27;jet&#x27;, scaling_factor=20)

# Visualize the warped data
fig, ax = plt.subplots(figsize=(5, 5))
ax.imshow(Z_popped, cmap=plt.cm.viridis,
          origin=&#x27;lower&#x27;, extent=[-3, 3, -3, 3],
          vmax=abs(Z).max(), vmin=-abs(Z).max())
ax.set(title=&quot;Warped data\nlinear colormap&quot;)
plt.tight_layout()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="6lb9t1khAqkFz_-LOMqxP" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><img src="/build/eac18d15b86dcd0d197fe1c4e0236370.png" alt="&lt;Figure size 360x360 with 1 Axes&gt;"/></div></div><div id="LLf4sGJQbP" class="relative group/block article-grid subgrid-gap col-screen"><p>Excellent! We’re using a nice, perceptually-flat colormap like viridis, but we’ve attained
an effect similar to the one that <em>Jet</em> would have created!</p><p>Now let’s visualize all three next to each other so that we can see the total effect:</p></div><div id="RzsqVeRqjk" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">fig, axs = plt.subplots(1, 3, figsize=(15, 5), sharey=True)

kws_img = dict(extent=[-3, 3, -3, 3], origin=&#x27;lower&#x27;,
               vmax=abs(Z).max(), vmin=-abs(Z).max())

# Raw data with a perceptually-flat colormap
axs[0].imshow(Z, cmap=plt.cm.viridis, **kws_img)
axs[0].set(title=&quot;Original data\nlinear colormap&quot;)

# Raw data with a perceptually-distorted colormap
axs[1].imshow(Z, cmap=plt.cm.jet, **kws_img)
axs[1].set(title=&quot;Original data\nnon-linear colormap&quot;)

# Distorted data with a perceptually-flat colormap
axs[2].imshow(Z_popped, cmap=plt.cm.viridis, **kws_img)
axs[2].set(title=&quot;Warped data\nlinear colormap&quot;)

plt.tight_layout()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="jsXfRawobyYT6hIu_Q9mS" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><img src="/build/ca23076a3b132a79ae4781726189e7a8.png" alt="&lt;Figure size 1080x360 with 3 Axes&gt;"/></div></div><div id="qYzs4umMPT" class="relative group/block article-grid subgrid-gap col-screen"><h2 id="lets-see-it-in-the-real-world" class="relative group"><span class="heading-text">Let’s see it in the real world</span><a class="no-underline text-inherit hover:text-inherit px-2 font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#lets-see-it-in-the-real-world" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>Thus far I’ve been using toy examples to illustrate how makeitpop works. Let’s see how
things look on an actual dataset collected in the wild.</p><p>For this, we’ll use the excellent <a target="_blank" href="https://nilearn.github.io/" rel="noreferrer">nilearn</a> package. This has a
few datasets we can download to demonstrate our point. First we’ll load the data and prep it:</p></div><div id="zoufQvgzWx" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">from nilearn import datasets
from nilearn import plotting
import nibabel as nb

# Load a sample dataset
tmap_filenames = datasets.fetch_localizer_button_task()[&#x27;tmaps&#x27;]
tmap_filename = tmap_filenames[0]

# Threshold our data for viz
brain = nb.load(tmap_filename)
brain_data = brain.get_fdata()
mask = np.logical_or(brain_data &lt; -.01, brain_data &gt; .01)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="9TwVl3Z66gfB29vx86n0u" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><pre class="text-sm font-thin font-system"><code><span>/home/choldgraf/anaconda/envs/dev/lib/python3.6/site-packages/h5py/__init__.py:36: FutureWarning: Conversion of the second argument of issubdtype from `float` to `np.floating` is deprecated. In future, it will be treated as `np.float64 == np.dtype(float).type`.
  from ._conv import register_converters as _register_converters
/home/choldgraf/anaconda/envs/dev/lib/python3.6/site-packages/numpy/lib/npyio.py:2266: VisibleDeprecationWarning: Reading unicode strings without specifying the encoding argument is deprecated. Set the encoding, use None for the system default.
  output = genfromtxt(fname, **kwargs)
</span></code></pre></div></div></div><div id="RhvBrI3pbu" class="relative group/block article-grid subgrid-gap col-screen"><p>Next, we’ll create a “popped” version of the data, where we apply the non-linear warping
properties of <em>Jet</em> to our data, so that we can visualize the same effect in linear space.</p></div><div id="l4Snl6NEpz" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Create a copy of the data, then pop it
# We&#x27;ll use a scaling factor to highlight the effect
brain_popped = brain_data.copy()
brain_popped[mask] = makeitpop(brain_popped[mask], colormap=&#x27;jet&#x27;, scaling_factor=75)
brain_popped = nb.Nifti1Image(brain_popped, brain.affine)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="tbKyMZsIoHm5I9e1IhA0-" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="IKDHqcmnbF" class="relative group/block article-grid subgrid-gap col-screen"><p>Now, I’ll plot the results for each.</p><ul><li>First, we’ll see the raw data on a linear colormap. This is the way we’d display the data to show the true underlying relationships between datapoints.</li><li>Next, we’ll show the same data plotted with <em>Jet</em>. See how many more significant voxels there are! (/s)</li><li>Finally, we’ll plot the “popped” data using a linear colormap (viridis). This accurately represents the underlying data, but the data <em>itself</em> has been distorted!</li></ul></div><div id="QJnZBo2UoI" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">for i_brain, name in [(brain, &#x27;original&#x27;), (brain, &#x27;original (jet)&#x27;), (brain_popped, &#x27;popped brain&#x27;)]:
    cmap = &#x27;jet&#x27; if name == &#x27;original (jet)&#x27; else &#x27;viridis&#x27;
    plotting.plot_stat_map(i_brain, cmap=cmap, vmax=7, display_mode=&#x27;x&#x27;,
                           title=name, cut_coords=np.linspace(20, 50, 5, dtype=int))</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="TjNP3AwhFEe2BTdtfneKq" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><img src="/build/f2561b8922b3ccbb76804960ce5b33fc.png" alt="&lt;Figure size 986.4x165.6 with 7 Axes&gt;"/><img src="/build/746efad652ea060fa2450b08c8251b6b.png" alt="&lt;Figure size 986.4x165.6 with 7 Axes&gt;"/><img src="/build/d24c4c5144bc23cb3127b045acffae31.png" alt="&lt;Figure size 986.4x165.6 with 7 Axes&gt;"/></div></div><div id="uyeQCZ38WY" class="relative group/block article-grid subgrid-gap col-screen"><p>As you can see, different kinds of results show up when your perception of the data is affected by the colormap.</p></div><div id="ANmpbw7uI6" class="relative group/block article-grid subgrid-gap col-screen"><h2 id="how-does-this-work" class="relative group"><span class="heading-text">How does this work?</span><a class="no-underline text-inherit hover:text-inherit px-2 font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#how-does-this-work" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>OK, so what is the black voodoo magic that makes it possible to “make your data pop”?</p><p>It all comes down to your visual system. I won’t go into a ton of detail
because Nathaniel Smith and Stefan van der Walt <a target="_blank" href="https://www.youtube.com/watch?v=xAoljeRJ3lU" rel="noreferrer">already gave a great talk about this</a>, however here is a lay-person’s take:</p><p>When we use color to represent data, we are mapping a range of data values onto
a range of color values. Usually this means defining a min / max for our data, then mapping data
values linearly from 0 to 1, and finally mapping those values onto RGB values in a colormap.</p><p>Implicit in this process is the idea that stepping across our space in the <em>data</em> equates to
an equal step in our <em>perception</em> of the color that is then chosen. We want a one-to-one mapping between the two.</p><p>Unfortunately, this isn’t how our visual system works.</p><p>In reality, our brains do all kinds of strange things when interpreting color. They are biased to detect changes between particular kinds of colors, and biased to miss the transition between others.</p><p><em>Jet</em> uses a range of colors that highlight this fact. It transitions through colors such that <em>linear</em> changes in our data are perceived as <em>nonlinear</em> changes when we look at the visualization. That’s what makes the data “pop”.</p><h2 id="perceptual-delta-curves" class="relative group"><span class="heading-text">Perceptual “delta” curves</span><a class="no-underline text-inherit hover:text-inherit px-2 font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#perceptual-delta-curves" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>You can determine the extent to which a colormap “warps” your perception of the data by calculating the “perceptual deltas” as you move across the values of a colormap (e.g. as you move from 0 to 1, and their corresponding colors).</p><p>These deltas essentially mean “how much is the <em>next</em> color in the colormap perceived as different from the <em>current</em> color?” If your colormap is perceptually flat, the delta will be the <em>same</em> no matter where you are on the range from 0 to 1.</p><p>Let’s see what the deltas look like for <em>Jet</em>:</p></div><div id="Ziq9V6adC0" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">def plot_colormap_deltas(deltas, cmap, ax=None):
    if ax is None:
        fig, ax = plt.subplots(figsize=(10, 5))
    xrange = np.arange(len(derivatives))
    sc = ax.scatter(xrange, deltas, c=xrange, vmin=xrange.min(), vmax=xrange.max(),
                    cmap=plt.cm.get_cmap(cmap), s=20)
    ax.plot(xrange, deltas, c=&#x27;k&#x27;, alpha=.1)
    return ax

ax = plot_colormap_deltas(derivatives[&#x27;jet&#x27;].values, &#x27;jet&#x27;)
ylim = ax.get_ylim()  # So we can compare with other colormaps
ax.set(title=&quot;Perceptual deltas with Jet&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="VX3lwmSLA74PJtwTyeSxl" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div class="font-mono text-sm whitespace-pre-wrap"><code><span>[Text(0.5,1,&#x27;Perceptual deltas with Jet&#x27;)]</span></code></div><img src="/build/44abc6d34cc21a06d04b6bd2b44ff8e4.png" alt="&lt;Figure size 720x360 with 1 Axes&gt;"/></div></div><div id="eSUFr3owDd" class="relative group/block article-grid subgrid-gap col-screen"><p>Oops.</p><p>As you can see, Jet does <strong>not</strong> have a flat line for perceptual deltas. Each “jump” you see above is a moment where Jet is actually <em>mis-representing</em> differences in the data. For shame, Jet.</p><p>Now let’s see what this looks like for viridis:</p></div><div id="ZBsaOopGAE" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">ax = plot_colormap_deltas(derivatives[&#x27;viridis&#x27;].values, &#x27;viridis&#x27;)
ax.set(ylim=ylim, title=&quot;Perceptual deltas with viridis&quot;);</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="dGUX2EECLZ8ZLWbpE1ONL" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><img src="/build/5c7e41cb19cef6a2b5bd065dc62e9804.png" alt="&lt;Figure size 720x360 with 1 Axes&gt;"/></div></div><div id="UXXsBooaE9" class="relative group/block article-grid subgrid-gap col-screen"><p>Ahhh, sweet, sweet linear representation of data.</p><p>In case you’re curious, here are the “perceptual deltas” for several colormaps.
In this case, I’ve centered them and scaled each by the variance of the largest colormap,
so that they are easier to compare.</p></div><div id="A9flLfMbYw" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">fig, ax = plt.subplots(figsize=(10, 5))
for cmap, deltas in derivatives_scaled.items():
    if cmap == &#x27;linear&#x27;:
        continue
    ax = plot_colormap_deltas(deltas.values, cmap, ax=ax)
ax.set(title=&quot;Scaled perceptual deltas for a bunch of colormaps&quot;);</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="uahDBUpcBej8LnyHK1h5F" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><img src="/build/9651655c35f231da7365f0d9e9495241.png" alt="&lt;Figure size 720x360 with 1 Axes&gt;"/></div></div><div id="h0DGMrJ633" class="relative group/block article-grid subgrid-gap col-screen"><h2 id="we-can-even-warp-1-dimensional-data" class="relative group"><span class="heading-text">We can even warp 1-dimensional data!</span><a class="no-underline text-inherit hover:text-inherit px-2 font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#we-can-even-warp-1-dimensional-data" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>Let’s see how this principle affects our perception with a different kind of visual
encoding. Now that we know these perceptual warping functions, we can get all the
data-warping properties of jet, but in one dimension!</p><p>Here’s a line.</p></div><div id="C1TdqaG308" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">fig, ax = plt.subplots(figsize=(5, 5))
x = np.linspace(0, 1, 100)
ax.plot(x, x, &#x27;k-&#x27;, lw=8, alpha=.4, label=&#x27;True Data&#x27;)
ax.set_title(&#x27;Totally boring line.\nNothing to see here.&#x27;);</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="AT_j6exm3VkAfVe-uhF9w" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><img src="/build/1380332b4dc057cbb3dd647597b153d5.png" alt="&lt;Figure size 360x360 with 1 Axes&gt;"/></div></div><div id="eeeG0bw1sn" class="relative group/block article-grid subgrid-gap col-screen"><p>Ew. Boring.</p><p>Now, let’s make it pop! We’ll loop through a few colormaps, applying its color
warping function to the y-axis of our line as we step through it.</p></div><div id="m2nLq7KQgQ" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">names = [&#x27;jet&#x27;, &#x27;viridis&#x27;, &#x27;rainbow&#x27;, &#x27;spring&#x27;, &#x27;hsv&#x27;]
fig, ax = plt.subplots(figsize=(10, 10))

x = np.linspace(0, 1, 1000)
ax.plot(x, x, &#x27;k-&#x27;, lw=12, alpha=.4, label=&#x27;True Data&#x27;)
for nm in names:
    ax.plot(x, makeitpop(x, colormap=nm, scaling_factor=40), label=nm, lw=4)
    ax.legend(loc=(1.05, .6))
ax.set_title(&#x27;Making data &quot;pop&quot; is fun!&#x27;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="vr5Xnilq91LGEx_w7wV_L" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><img src="/build/2e7f7748b3803d63971d8eff9acaa07a.png" alt="&lt;Figure size 720x720 with 1 Axes&gt;"/></div></div><div id="PNFzN6b2cg" class="relative group/block article-grid subgrid-gap col-screen"><p>As you can see, data looks much more interesting when it’s been non-linearly warped!
It looks particularly striking when you see it on a 1-D plot. This is effectively
what colormaps such as Jet are doing in 2 dimensions! We’re simply bringing the fun
back to 1-D space.</p><p>Let’s see how it looks on some scatterplots. We’ll plot the raw data in the background in grey,
and the “popped” data in front in color. Notice how some colormaps distort the y-values more
than others.</p></div><div id="EwF6jfoYe7" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">names = [&#x27;viridis&#x27;, &#x27;jet&#x27;, &#x27;rainbow&#x27;, &#x27;spring&#x27;, &#x27;hsv&#x27;]
fig, axs = plt.subplots(1, len(names), figsize=(20, 4), sharex=True, sharey=True)
x = np.linspace(0, 1, 100)
y = x + np.random.randn(len(x)) * .2
for name, ax in zip(names, axs):    
    ax.scatter(x, y, c=&#x27;k&#x27;, s=80, alpha=.2)
    ax.scatter(x, makeitpop(y, name, 40), c=y, s=40, alpha=.8, cmap=plt.get_cmap(name))
    ax.set(title=name)
</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="whf5t9wthcsTZNHVHwUXq" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><img src="/build/1ef548abad8d00a0fd471a39dad0054e.png" alt="&lt;Figure size 1440x288 with 5 Axes&gt;"/></div></div><div id="lw8F53n379" class="relative group/block article-grid subgrid-gap col-screen"><h2 id="so-what-should-we-do" class="relative group"><span class="heading-text">So what should we do?</span><a class="no-underline text-inherit hover:text-inherit px-2 font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#so-what-should-we-do" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>The reason that I wrote this blog post (and made this silly package) is to illustrate what we’re really
doing when we use a colormap like <em>Jet</em>, and to highlight the importance of using a perceptually-flat colormap.  Sure, we want to choose the visualization that best-makes our point,
but a colormap like Jet is <em>actively mis-representing your data</em>. You’d <em>never</em> consider changing the raw
data values so that an effect popped out, and you’d <em>never</em> alter the y-values of a scatterplot so that something shows up. Well, this is perceptually what you’re doing when you visualize 2-D data with Jet.</p><p>Here are a few things to keep in mind moving forward:</p><ul><li>Don’t use Jet</li><li>If you review a paper or are an editor for a journal, consider asking authors to use a perceptually flat colormap (this is usually just a matter of changing <code>cmap=&#x27;viridis&#x27;</code>!)</li><li>Be aware of the effects that color has on the point you’re trying to make. Perceptual warping is
just one of many potential issues with choosing the right color.</li></ul><h2 id="wrapping-up" class="relative group"><span class="heading-text">Wrapping up</span><a class="no-underline text-inherit hover:text-inherit px-2 font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#wrapping-up" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>I hope that this post has been a fun and slightly informative take on the nuances of colormaps, and the unintended effects that they might have.</p><p>So, <code>tl;dr</code>:</p><ul><li>Jet (and many other colormaps) mis-represent your perception of the data</li><li>Perceptually flat colormaps like Viridis, Magma, Inferno, or Parula minimize this effect</li><li>You can calculate the <em>extent</em> to which this mis-representation happens as you move along the colormap</li><li>We can then use this function to <em>distort</em> data so that the data itself contains this mis-representation</li><li>But doing so would be super unethical, so in the end <strong>you should stop using jet and use a perceptually-flat colormap like viridis.</strong></li></ul><p>If you’d like to check out the <code>makeitpop</code> package, see the <a target="_blank" href="https://github.com/choldgraf/makeitpop" rel="noreferrer">GitHub repo here</a>. In addition, all of the examples in this post are runnable
on Binder! You can launch an interactive session with this code by clicking on the Binder button
at the top of this page!</p></div><div id="gMrGLgZMmP" class="relative group/block article-grid subgrid-gap col-screen"><h2 id="addendum-ok-but-how-does-makeitpop-actually-work" class="relative group"><span class="heading-text">Addendum: Ok but how does <code>makeitpop</code> <em>actually</em> work?</span><a class="no-underline text-inherit hover:text-inherit px-2 font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#addendum-ok-but-how-does-makeitpop-actually-work" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>In this section I’ll describe the (admittedly hacky) way that I’ve written <code>makeitpop</code>.
As I mentioned before, <a target="_blank" href="https://github.com/choldgraf/makeitpop" rel="noreferrer">all the <code>makeitpop</code> code is on GitHub</a> and
Pull Requests are more than welcome to improve the process (I’m looking at you, “histogram matching” people!)</p><p>Here’s what <code>makeitpop</code> does:</p><ol start="1"><li>Collects a list of the “perceptual deltas”. These are calculated from the equations given in <a target="_blank" href="https://github.com/matplotlib/viscm" rel="noreferrer"><code>viscm</code></a>, which was released as a part of the original work that created <code>viridis</code>.</li><li>Centers each colormap’s deltas at 0.</li><li>Scales each colormap’s deltas by the <em>largest variance</em> across all colormaps. This is to make sure that warping the data is done with the relative differences of each colormap in mind.</li><li>When <code>makeitpop</code> is called, the function then:<ol start="1"><li>Scales the input data linearly between 0 and 1</li><li>Calculates the point-by-point derivative for linearly spaced points between 0 and 1 (the derivative is the same for all points here).</li><li>Multiplies each derivative by the scaled perceptual deltas function, plus an extra scaling factor that accentuates the effect.</li><li>Adds each value to the scaled input data.</li><li>Un-scales the altered input data so that it has the same min/max as before.</li></ol></li></ol><p>There are plenty of ways you could do this more effectively (for example, by matching empirical CDFs and
using linear interpolation to map the delta function of one colormap onto the delta function for another
colormap). If you’d like to contribute or suggest something, feel free to do so! However, I’m just creating
this package to highlight an idea, and think this approach gets close enough with relatively little complexity.</p></div><div id="S7uGCc3nUU" class="relative group/block article-grid subgrid-gap col-screen"><h1 id="some-extras" class="relative group"><span class="heading-text">Some extras</span><a class="no-underline text-inherit hover:text-inherit px-2 font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#some-extras" title="Link to this Section" aria-label="Link to this Section">¶</a></h1></div><div id="xnIeGDVJeu" class="relative group/block article-grid subgrid-gap col-screen"><p>Here’s a viz that will let you visualize how different colormaps distort data. We’ll show a
gradient of linearly-spaced values, both using a warping colormap such as “jet” and a linear
colormap like “vidiris”. Then, we’ll “pop” the data and re-visualize with viridis.</p></div><div id="G0XAWtsNEY" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Create a gradient of datapoints
data = np.linspace(0, 1, 256)
data = np.tile(data, [100, 1])

# Pop the data
cmap_warping = &#x27;jet&#x27;
scaling_factor = 50
data_popped = makeitpop(data, cmap_warping, scaling_factor)

# Visualize
fig, axs = plt.subplots(6, 1, figsize=(10, 15), sharex=True)
axs[0].pcolormesh(derivatives_scaled.index, range(len(data)), data, vmin=0, vmax=1, cmap=cmap_warping)
axs[0].set(title=&quot;Raw data with colormap {}&quot;.format(cmap_warping))
axs[1].plot(derivatives_scaled.index, derivatives_scaled[cmap_warping].values)
axs[1].set(xlim=[0, 1], ylim=[-1.1, 1.1], title=&quot;First row of image&quot;)

axs[2].pcolormesh(derivatives_scaled.index, range(len(data)), data, vmin=0, vmax=1, cmap=&#x27;viridis&#x27;)
axs[2].set(title=&quot;Raw data with colormap {}&quot;.format(&#x27;viridis&#x27;))
axs[3].plot(derivatives_scaled.index, data[0])
axs[3].set_xlim([0, 1])

axs[4].pcolormesh(derivatives_scaled.index, range(len(data)), data_popped, vmin=0, vmax=1, cmap=&#x27;viridis&#x27;)
axs[4].set(title=&quot;Data warped with colormap {}&quot;.format(cmap_warping))
axs[5].plot(derivatives_scaled.index, data_popped[0])
axs[5].set_xlim([0, 1])
plt.tight_layout()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="UKmxFEOYlyA3IUhGe6Kbl" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><img src="/build/1388a63879db566cf4a4897fe9e7e09a.png" alt="&lt;Figure size 720x1080 with 6 Axes&gt;"/></div></div><div></div><div class="flex pt-10 mb-10 space-x-4"><a class="flex-1 block p-4 font-normal text-gray-600 no-underline border border-gray-200 rounded shadow-sm group hover:border-blue-600 dark:hover:border-blue-400 hover:text-blue-600 dark:hover:text-blue-400 dark:text-gray-100 dark:border-gray-500 hover:shadow-lg dark:shadow-neutral-700" href="/blog/2018/kinds-of-openness"><div class="flex h-full align-middle"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem" class="self-center transition-transform group-hover:-translate-x-1 shrink-0"><path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"></path></svg><div class="flex-grow text-right"><div class="text-xs text-gray-500 dark:text-gray-400">2018</div>How do projects signal how “open” they are?</div></div></a><a class="flex-1 block p-4 font-normal text-gray-600 no-underline border border-gray-200 rounded shadow-sm group hover:border-blue-600 dark:hover:border-blue-400 hover:text-blue-600 dark:hover:text-blue-400 dark:text-gray-100 dark:border-gray-500 hover:shadow-lg dark:shadow-neutral-700" href="/blog/2018/my-workflow"><div class="flex h-full align-middle"><div class="flex-grow"><div class="text-xs text-gray-500 dark:text-gray-400">2018</div>My weekly workflow</div><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem" class="self-center transition-transform group-hover:translate-x-1 shrink-0"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"></path></svg></div></a></div></main></article><script>((a,d)=>{if(!window.history.state||!window.history.state.key){let h=Math.random().toString(32).slice(2);window.history.replaceState({key:h},"")}try{let f=JSON.parse(sessionStorage.getItem(a)||"{}")[d||window.history.state.key];typeof f=="number"&&window.scrollTo(0,f)}catch(h){console.error(h),sessionStorage.removeItem(a)}})("positions", null)</script><link rel="modulepreload" href="/build/entry.client-UNPC4GT3.js"/><link rel="modulepreload" href="/build/_shared/chunk-OCTKKCIL.js"/><link rel="modulepreload" href="/build/_shared/chunk-UAI5KRM7.js"/><link rel="modulepreload" href="/build/_shared/chunk-2NH4LW52.js"/><link rel="modulepreload" href="/build/_shared/chunk-JLDGA2DL.js"/><link rel="modulepreload" href="/build/_shared/chunk-YAIQ7LUU.js"/><link rel="modulepreload" href="/build/_shared/chunk-OCWQY3HK.js"/><link rel="modulepreload" href="/build/_shared/chunk-ZQWAZXET.js"/><link rel="modulepreload" href="/build/_shared/chunk-HYMQ7M2K.js"/><link rel="modulepreload" href="/build/_shared/chunk-3CVK3PYF.js"/><link rel="modulepreload" href="/build/_shared/chunk-J6FHCSRC.js"/><link rel="modulepreload" href="/build/_shared/chunk-IQBJE7PC.js"/><link rel="modulepreload" href="/build/_shared/chunk-5CFTM6YW.js"/><link rel="modulepreload" href="/build/_shared/chunk-GUCIBHGO.js"/><link rel="modulepreload" href="/build/root-HROFNPGU.js"/><link rel="modulepreload" href="/build/_shared/chunk-N544LW6X.js"/><link rel="modulepreload" href="/build/routes/$-WNZNXUO2.js"/><script>window.__remixContext = {"url":"/blog/2018/makeitpop","state":{"loaderData":{"root":{"config":{"options":{"twitter":"choldgraf","logo_text":"Chris Holdgraf","folders":true},"myst":"1.3.18","nav":[{"title":"About","url":"/about"},{"title":"Projects","url":"/projects"},{"title":"Publications","url":"/publications"},{"title":"Talks","url":"/talks"},{"title":"Blog","url":"/blog"}],"actions":[{"title":"RSS","url":"https://chrisholdgraf.com/rss.xml","internal":false,"static":false}],"projects":[{"title":"Welcome","github":"https://github.com/choldgraf/choldgraf.github.io","id":"f84d70c6-7ee5-4bb9-9056-aa84134a33dd","toc":[{"file":"index.md"},{"file":"about.md"},{"file":"projects.md"},{"file":"publications.md"},{"file":"talks.md"},{"children":[{"children":[{"pattern":"blog/2024/**{.ipynb,.md}"}],"title":"2024"},{"children":[{"pattern":"blog/2023/**{.ipynb,.md}"}],"title":"2023"},{"children":[{"pattern":"blog/2022/**{.ipynb,.md}"}],"title":"2022"},{"children":[{"pattern":"blog/2021/**{.ipynb,.md}"}],"title":"2021"},{"children":[{"pattern":"blog/2020/**{.ipynb,.md}"}],"title":"2020"},{"children":[{"pattern":"blog/2019/**{.ipynb,.md}"}],"title":"2019"},{"children":[{"pattern":"blog/2018/**{.ipynb,.md}"}],"title":"2018"},{"children":[{"pattern":"blog/2017/**{.ipynb,.md}"}],"title":"2017"},{"children":[{"pattern":"blog/2016/**{.ipynb,.md}"}],"title":"2016"},{"children":[{"pattern":"blog/2015/**{.ipynb,.md}"}],"title":"2015"}],"file":"blog.md"}],"thumbnail":"/build/profile-color-circle-63cabbae832d6fe8f41209f45ff7df6c.png","exports":[],"bibliography":[],"index":"index","pages":[{"slug":"about","title":"About me","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"projects","title":"Projects","description":"","date":"","thumbnail":"/build/7d9a7172f87d448f4ed0d90adb92d4db.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"publications","title":"Publications","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"talks","title":"Talks","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"blog","title":"Blog","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"level":2,"title":"2024"},{"slug":"blog.2024.blog-list","title":"Better blog lists with the MyST AST","description":"","date":"2024-11-09","thumbnail":"/build/sandbox-demo-bf65344efa46ed565c9e7ed7bd0c4ad1.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["myst","jupyter"],"level":3},{"slug":"blog.2024.bluesky","title":"Thoughts on moving from Twitter/X to BlueSky","description":"","date":"2024-11-22","thumbnail":"/build/bluesky-castles-cd300f3753d7b76e3be276a727504e9d.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["open source","social media"],"level":3},{"slug":"blog.2024.mystmd-with-the-blog","title":"Re-building my blog with MySTMD","description":"","date":"2024-11-01","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"blog.2024.programmatic-myst-with-jupyter","title":"Generate MyST with Jupyter and insert it into content programmatically","description":"","date":"2024-11-04","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["myst","jupyter"],"level":3},{"level":2,"title":"2023"},{"slug":"blog.2023.ai-for-good","title":"A few random opportunities in AI for Social Good","description":"","date":"2023-10-02","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["cloud"],"level":3},{"slug":"blog.2023.fosdem","title":"Report from FOSDEM23: beautiful chaos in a conference","description":"","date":"2023-02-06","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["cloud"],"level":3},{"slug":"blog.2023.social-directive","title":"A Sphinx directive for social media embeds","description":"","date":"2023-02-15","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["sphinx"],"level":3},{"slug":"blog.2023.sphinx-add-extensions","title":"Bundle extensions with your Sphinx theme","description":"","date":"2023-01-19","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["sphinx"],"level":3},{"level":2,"title":"2022"},{"slug":"blog.2022.cloud-services-academia","title":"Ask Twitter: Why don’t academic researchers use cloud services?","description":"","date":"2022-09-05","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["cloud"],"level":3},{"slug":"blog.2022.github-2022","title":"GitHub year in review","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"blog.2022.install-github-from-pyproject","title":"Install dependencies from GitHub with pyproject.toml or requirements.txt","description":"","date":"2022-12-31","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["software development"],"level":3},{"slug":"blog.2022.jupyterlite-workshop","title":"Report from the JupyterLite workshop: WebAssembly is pretty cool","description":"","date":"2022-12-10","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["jupyter","webassembly"],"level":3},{"slug":"blog.2022.matplotlib-remote-font","title":"Load and plot a remote font with Matplotlib","description":"","date":"2022-12-06","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["matplotlib"],"level":3},{"slug":"blog.2022.orcid-auto-update","title":"Automatically updating my publications page with ORCID and doi.org","description":"","date":"2022-11-19","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["scholarship","doi","orcid"],"level":3},{"slug":"blog.2022.phantom-workflows-pull-requests","title":"Fix phantom GitHub workflows in your ci-cd with protected branch rules","description":"","date":"2022-11-27","thumbnail":"/build/abdd690fd5af613c25b40bb16d6ca824.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["cicd","github actions"],"level":3},{"slug":"blog.2022.precommit-autoupdate","title":"Automatically update pre-commit hook versions","description":"","date":"2022-12-03","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["python","git"],"level":3},{"slug":"blog.2022.shell-split","title":"subprocess.run can execute shell commands directly","description":"","date":"2022-11-29","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["shell","python"],"level":3},{"slug":"blog.2022.sphinx-custom-crossrefs","title":"Custom roles and domains in Sphinx with one line","description":"","date":"2022-11-21","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["sphinx","scholarship","myst"],"level":3},{"slug":"blog.2022.sphinx-redirects-folder","title":"Automatically redirect folders in Sphinx websites","description":"","date":"2022-11-19","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"blog.2022.sphinx-update-config","title":"How to update Sphinx options during the build","description":"","date":"2022-12-05","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["sphinx"],"level":3},{"level":2,"title":"2021"},{"slug":"blog.2021.2021-12-18-hybrid-tutorial-prerecord","title":"Serving in two roles at once via pre-recorded tutorials","description":"","date":"2021-12-17","thumbnail":"/build/9c5f30a4a04a0ddea887b8cfbfca92ce.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["teaching"],"level":3},{"level":2,"title":"2020"},{"slug":"blog.2020.2020-01-22-rst-thoughts","title":"What do people think about rST?","description":"","date":"2020-01-22","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["markup","documentation"],"level":3},{"slug":"blog.2020.organizations-help-oss-guide","title":"Contributing to open source: A short guide for organizations","description":"","date":"2020-11-08","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["open source","sustainability"],"level":3},{"slug":"blog.2020.sphinx-blogging","title":"A new blog with Sphinx","description":"","date":"2020-10-10","thumbnail":"/build/sphinx-logo-f7aaddcb8b97dab3f0a9612a600a6ce1.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["sphinx","blogging","jupyter"],"level":3},{"slug":"blog.2020.sphinx-design-timeline","title":"Build a simple timeline with sphinx-design","description":"","date":"2020-01-22","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["markup","documentation"],"level":3},{"level":2,"title":"2019"},{"slug":"blog.2019.2019-01-29-three-things-circleci","title":"Three things I love about CircleCI","description":"","date":"2019-01-29","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["CICD","dev ops","software development"],"level":3},{"slug":"blog.2019.2019-03-16-jupyter-dev","title":"Thoughts from the Jupyter team meeting 2019","description":"","date":"2019-03-30","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["jupyter","community"],"level":3},{"slug":"blog.2019.2019-06-25-a-few-talks","title":"A few recent talks","description":"","date":"2019-06-25","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["talks"],"level":3},{"slug":"blog.2019.2019-10-11-automating-jb","title":"Automating Jupyter Book deployments with CI/CD","description":"","date":"2019-10-11","thumbnail":"/build/jb-auto-build-a5764d1aec04476400831f989bb5dece.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["infrastructure"],"level":3},{"slug":"blog.2019.2019-10-13-rust-jupyter-governance","title":"What would Rust-style governance look like in Jupyter?","description":"","date":"2019-10-13","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["governance"],"level":3},{"slug":"blog.2019.2019-10-22-xarray-neuro","title":"Analyzing intracranial electrophysiology data with xarray","description":"","date":"2019-10-22","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["analysis","neuroscience","xarray","open source"],"level":3},{"slug":"blog.2019.2019-10-27-jupyter-governance-python","title":"What would Python-style governance look like in Jupyter?","description":"","date":"2019-10-27","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["governance","open source"],"level":3},{"slug":"blog.2019.2019-11-11-ipynb-pandoc","title":"Testing Pandoc and Jupyter Notebooks","description":"","date":"2019-11-11","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["documentation","pandoc","nbconvert"],"level":3},{"level":2,"title":"2018"},{"slug":"blog.2018.circlci-github","title":"Automatically mirror a github repository with CircleCI","description":"","date":"2018-12-18","thumbnail":"/build/circleci-mirror-depl-01d0dcfad44aa3e8c23c5fa626dc879f.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["productivity","CICD"],"level":3},{"slug":"blog.2018.circle-docs","title":"Using CircleCI to preview documentation in Pull Requests","description":"","date":"2018-10-16","thumbnail":"/build/sphinx-circle-logos-de03a7650e1bcb7c405434a05567aef4.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["documentation","sphinx"],"level":3},{"slug":"blog.2018.conferences-summer-2018","title":"Summer conference report back","description":"","date":"2018-08-01","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["python","conferences","communities","jupyter"],"level":3},{"slug":"blog.2018.devopsdays-sv-2018","title":"An academic scientist goes to DevOps Days","description":"","date":"2018-05-18","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["python","open science","devops","jupyterhub","teams"],"level":3},{"slug":"blog.2018.free-labor-partners","title":"Open communities need to be partners, not sources of free labor","description":"","date":"2018-12-05","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["open communities","open culture","sustainability"],"level":3},{"slug":"blog.2018.jekyllmarkdown","title":"Blogging with Jupyter Notebooks and Jekyll using nbconvert templates","description":"","date":"2018-05-23","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["python","blogging","jekyll"],"level":3},{"slug":"blog.2018.kinds-of-openness","title":"How do projects signal how “open” they are?","description":"","date":"2018-10-26","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["open source","governance","community"],"level":3},{"slug":"blog.2018.makeitpop","title":"Introducing makeitpop, a tool to perceptually warp your data!\"","description":"","date":"2018-06-04","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["python colormaps"],"level":3},{"slug":"blog.2018.my-workflow","title":"My weekly workflow","description":"","date":"2018-10-26","thumbnail":"/build/trello-board-project-8bdf3262a715161831fa59d0cb63d019.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["productivity"],"level":3},{"slug":"blog.2018.rust-governance","title":"I like Rust’s governance structure","description":"","date":"2018-10-18","thumbnail":"/build/2018-10-19-rust_logo-289e5fae011c6977d6d4ca2e7c0570dd.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["python","governance","community"],"level":3},{"slug":"blog.2018.sphinx-copy-buttons","title":"Adding copy buttons to code blocks in Sphinx","description":"","date":"2018-07-05","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["python","blogging","sphinx","documentation"],"level":3},{"level":2,"title":"2017"},{"slug":"blog.2017.2017-01-04-matplotlib-cycles","title":"Matplotlib Cyclers are Great","description":"","date":"2017-01-04","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["python","open science","visualizations"],"level":3},{"slug":"blog.2017.2017-03-16-dates-in-python","title":"Dates in python","description":"","date":"2017-03-16","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["python","open science"],"level":3},{"slug":"blog.2017.2017-11-02-dates-multiple-plots","title":"Combining dates with analysis visualization in python","description":"","date":"2017-11-02","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["python","open science"],"level":3},{"level":2,"title":"2016"},{"slug":"blog.2016.2016-07-02-fft-time","title":"The beauty of computational efficiency","description":"","date":"2016-07-02","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["python","programming","computation","efficiency","fft"],"level":3},{"slug":"blog.2016.2016-07-08-voting-randomness","title":"Could Brexit have happened by chance?","description":"","date":"2016-07-08","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["python","voting","statistics","computation","fft"],"level":3},{"slug":"blog.2016.2016-11-01-5-things-scipy-2016","title":"5 things I learned at SciPy","description":"","date":"2016-11-01","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["python","open science","programming","conferences"],"level":3},{"slug":"blog.2016.2016-11-01-5-things-scipy-2016-1","title":"1. Scientific conferences can be fun","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"blog.2016.2016-11-30-funnel-plots","title":"Visualizing publication bias","description":"","date":"2016-11-30","thumbnail":"/build/funnel_plot_no_dists-a66702a1a4637301b036e46f851fc45e.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["python","funnel plots","open science","visualizations","simulations"],"level":3},{"slug":"blog.2016.2016-12-19-biorxiv-neuro","title":"The bleeding edge of publishing, Scraping publication amounts at biorxiv","description":"","date":"2016-12-19","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["python","open science","visualizations","web scraping","preprints"],"level":3},{"slug":"blog.2016.2016-12-23-christmas-ecog-plot","title":"Brainy Jingle Bells","description":"","date":"2016-12-23","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["python","open science","visualizations","brains","holidays"],"level":3},{"level":2,"title":"2015"},{"slug":"blog.2015.2015-05-27-coherence-correlation","title":"Coherence vs. Correlation - a simple simulation","description":"","date":"2015-05-27","thumbnail":"/build/eeg_coh-cae9c917c40afecc6c64c94bd21ca00c.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["python","programming","timeseries","correlation"],"level":3},{"slug":"blog.2015.2015-08-30-craigslist-scrape","title":"Scraping craigslist","description":"","date":"2015-08-30","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["python","programming"],"level":3},{"slug":"blog.2015.2015-09-27-craigslist-data-analysis","title":"Craigslist data analysis","description":"","date":"2015-09-27","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["python","scraping","data analysis","visualization"],"level":3},{"slug":"blog.2015.2015-10-29-nih-grant-analysis","title":"NIH grant analysis","description":"","date":"2015-10-29","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["python","statistics","visualization","grants"],"level":3}]}]},"CONTENT_CDN_PORT":"3100","MODE":"static"},"routes/$":{"config":{"options":{"twitter":"choldgraf","logo_text":"Chris Holdgraf","folders":true},"myst":"1.3.18","nav":[{"title":"About","url":"/about"},{"title":"Projects","url":"/projects"},{"title":"Publications","url":"/publications"},{"title":"Talks","url":"/talks"},{"title":"Blog","url":"/blog"}],"actions":[{"title":"RSS","url":"https://chrisholdgraf.com/rss.xml","internal":false,"static":false}],"projects":[{"title":"Welcome","github":"https://github.com/choldgraf/choldgraf.github.io","id":"f84d70c6-7ee5-4bb9-9056-aa84134a33dd","toc":[{"file":"index.md"},{"file":"about.md"},{"file":"projects.md"},{"file":"publications.md"},{"file":"talks.md"},{"children":[{"children":[{"pattern":"blog/2024/**{.ipynb,.md}"}],"title":"2024"},{"children":[{"pattern":"blog/2023/**{.ipynb,.md}"}],"title":"2023"},{"children":[{"pattern":"blog/2022/**{.ipynb,.md}"}],"title":"2022"},{"children":[{"pattern":"blog/2021/**{.ipynb,.md}"}],"title":"2021"},{"children":[{"pattern":"blog/2020/**{.ipynb,.md}"}],"title":"2020"},{"children":[{"pattern":"blog/2019/**{.ipynb,.md}"}],"title":"2019"},{"children":[{"pattern":"blog/2018/**{.ipynb,.md}"}],"title":"2018"},{"children":[{"pattern":"blog/2017/**{.ipynb,.md}"}],"title":"2017"},{"children":[{"pattern":"blog/2016/**{.ipynb,.md}"}],"title":"2016"},{"children":[{"pattern":"blog/2015/**{.ipynb,.md}"}],"title":"2015"}],"file":"blog.md"}],"thumbnail":"/build/profile-color-circle-63cabbae832d6fe8f41209f45ff7df6c.png","exports":[],"bibliography":[],"index":"index","pages":[{"slug":"about","title":"About me","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"projects","title":"Projects","description":"","date":"","thumbnail":"/build/7d9a7172f87d448f4ed0d90adb92d4db.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"publications","title":"Publications","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"talks","title":"Talks","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"blog","title":"Blog","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"level":2,"title":"2024"},{"slug":"blog.2024.blog-list","title":"Better blog lists with the MyST AST","description":"","date":"2024-11-09","thumbnail":"/build/sandbox-demo-bf65344efa46ed565c9e7ed7bd0c4ad1.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["myst","jupyter"],"level":3},{"slug":"blog.2024.bluesky","title":"Thoughts on moving from Twitter/X to BlueSky","description":"","date":"2024-11-22","thumbnail":"/build/bluesky-castles-cd300f3753d7b76e3be276a727504e9d.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["open source","social media"],"level":3},{"slug":"blog.2024.mystmd-with-the-blog","title":"Re-building my blog with MySTMD","description":"","date":"2024-11-01","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"blog.2024.programmatic-myst-with-jupyter","title":"Generate MyST with Jupyter and insert it into content programmatically","description":"","date":"2024-11-04","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["myst","jupyter"],"level":3},{"level":2,"title":"2023"},{"slug":"blog.2023.ai-for-good","title":"A few random opportunities in AI for Social Good","description":"","date":"2023-10-02","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["cloud"],"level":3},{"slug":"blog.2023.fosdem","title":"Report from FOSDEM23: beautiful chaos in a conference","description":"","date":"2023-02-06","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["cloud"],"level":3},{"slug":"blog.2023.social-directive","title":"A Sphinx directive for social media embeds","description":"","date":"2023-02-15","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["sphinx"],"level":3},{"slug":"blog.2023.sphinx-add-extensions","title":"Bundle extensions with your Sphinx theme","description":"","date":"2023-01-19","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["sphinx"],"level":3},{"level":2,"title":"2022"},{"slug":"blog.2022.cloud-services-academia","title":"Ask Twitter: Why don’t academic researchers use cloud services?","description":"","date":"2022-09-05","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["cloud"],"level":3},{"slug":"blog.2022.github-2022","title":"GitHub year in review","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"blog.2022.install-github-from-pyproject","title":"Install dependencies from GitHub with pyproject.toml or requirements.txt","description":"","date":"2022-12-31","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["software development"],"level":3},{"slug":"blog.2022.jupyterlite-workshop","title":"Report from the JupyterLite workshop: WebAssembly is pretty cool","description":"","date":"2022-12-10","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["jupyter","webassembly"],"level":3},{"slug":"blog.2022.matplotlib-remote-font","title":"Load and plot a remote font with Matplotlib","description":"","date":"2022-12-06","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["matplotlib"],"level":3},{"slug":"blog.2022.orcid-auto-update","title":"Automatically updating my publications page with ORCID and doi.org","description":"","date":"2022-11-19","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["scholarship","doi","orcid"],"level":3},{"slug":"blog.2022.phantom-workflows-pull-requests","title":"Fix phantom GitHub workflows in your ci-cd with protected branch rules","description":"","date":"2022-11-27","thumbnail":"/build/abdd690fd5af613c25b40bb16d6ca824.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["cicd","github actions"],"level":3},{"slug":"blog.2022.precommit-autoupdate","title":"Automatically update pre-commit hook versions","description":"","date":"2022-12-03","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["python","git"],"level":3},{"slug":"blog.2022.shell-split","title":"subprocess.run can execute shell commands directly","description":"","date":"2022-11-29","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["shell","python"],"level":3},{"slug":"blog.2022.sphinx-custom-crossrefs","title":"Custom roles and domains in Sphinx with one line","description":"","date":"2022-11-21","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["sphinx","scholarship","myst"],"level":3},{"slug":"blog.2022.sphinx-redirects-folder","title":"Automatically redirect folders in Sphinx websites","description":"","date":"2022-11-19","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"blog.2022.sphinx-update-config","title":"How to update Sphinx options during the build","description":"","date":"2022-12-05","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["sphinx"],"level":3},{"level":2,"title":"2021"},{"slug":"blog.2021.2021-12-18-hybrid-tutorial-prerecord","title":"Serving in two roles at once via pre-recorded tutorials","description":"","date":"2021-12-17","thumbnail":"/build/9c5f30a4a04a0ddea887b8cfbfca92ce.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["teaching"],"level":3},{"level":2,"title":"2020"},{"slug":"blog.2020.2020-01-22-rst-thoughts","title":"What do people think about rST?","description":"","date":"2020-01-22","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["markup","documentation"],"level":3},{"slug":"blog.2020.organizations-help-oss-guide","title":"Contributing to open source: A short guide for organizations","description":"","date":"2020-11-08","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["open source","sustainability"],"level":3},{"slug":"blog.2020.sphinx-blogging","title":"A new blog with Sphinx","description":"","date":"2020-10-10","thumbnail":"/build/sphinx-logo-f7aaddcb8b97dab3f0a9612a600a6ce1.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["sphinx","blogging","jupyter"],"level":3},{"slug":"blog.2020.sphinx-design-timeline","title":"Build a simple timeline with sphinx-design","description":"","date":"2020-01-22","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["markup","documentation"],"level":3},{"level":2,"title":"2019"},{"slug":"blog.2019.2019-01-29-three-things-circleci","title":"Three things I love about CircleCI","description":"","date":"2019-01-29","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["CICD","dev ops","software development"],"level":3},{"slug":"blog.2019.2019-03-16-jupyter-dev","title":"Thoughts from the Jupyter team meeting 2019","description":"","date":"2019-03-30","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["jupyter","community"],"level":3},{"slug":"blog.2019.2019-06-25-a-few-talks","title":"A few recent talks","description":"","date":"2019-06-25","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["talks"],"level":3},{"slug":"blog.2019.2019-10-11-automating-jb","title":"Automating Jupyter Book deployments with CI/CD","description":"","date":"2019-10-11","thumbnail":"/build/jb-auto-build-a5764d1aec04476400831f989bb5dece.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["infrastructure"],"level":3},{"slug":"blog.2019.2019-10-13-rust-jupyter-governance","title":"What would Rust-style governance look like in Jupyter?","description":"","date":"2019-10-13","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["governance"],"level":3},{"slug":"blog.2019.2019-10-22-xarray-neuro","title":"Analyzing intracranial electrophysiology data with xarray","description":"","date":"2019-10-22","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["analysis","neuroscience","xarray","open source"],"level":3},{"slug":"blog.2019.2019-10-27-jupyter-governance-python","title":"What would Python-style governance look like in Jupyter?","description":"","date":"2019-10-27","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["governance","open source"],"level":3},{"slug":"blog.2019.2019-11-11-ipynb-pandoc","title":"Testing Pandoc and Jupyter Notebooks","description":"","date":"2019-11-11","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["documentation","pandoc","nbconvert"],"level":3},{"level":2,"title":"2018"},{"slug":"blog.2018.circlci-github","title":"Automatically mirror a github repository with CircleCI","description":"","date":"2018-12-18","thumbnail":"/build/circleci-mirror-depl-01d0dcfad44aa3e8c23c5fa626dc879f.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["productivity","CICD"],"level":3},{"slug":"blog.2018.circle-docs","title":"Using CircleCI to preview documentation in Pull Requests","description":"","date":"2018-10-16","thumbnail":"/build/sphinx-circle-logos-de03a7650e1bcb7c405434a05567aef4.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["documentation","sphinx"],"level":3},{"slug":"blog.2018.conferences-summer-2018","title":"Summer conference report back","description":"","date":"2018-08-01","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["python","conferences","communities","jupyter"],"level":3},{"slug":"blog.2018.devopsdays-sv-2018","title":"An academic scientist goes to DevOps Days","description":"","date":"2018-05-18","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["python","open science","devops","jupyterhub","teams"],"level":3},{"slug":"blog.2018.free-labor-partners","title":"Open communities need to be partners, not sources of free labor","description":"","date":"2018-12-05","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["open communities","open culture","sustainability"],"level":3},{"slug":"blog.2018.jekyllmarkdown","title":"Blogging with Jupyter Notebooks and Jekyll using nbconvert templates","description":"","date":"2018-05-23","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["python","blogging","jekyll"],"level":3},{"slug":"blog.2018.kinds-of-openness","title":"How do projects signal how “open” they are?","description":"","date":"2018-10-26","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["open source","governance","community"],"level":3},{"slug":"blog.2018.makeitpop","title":"Introducing makeitpop, a tool to perceptually warp your data!\"","description":"","date":"2018-06-04","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["python colormaps"],"level":3},{"slug":"blog.2018.my-workflow","title":"My weekly workflow","description":"","date":"2018-10-26","thumbnail":"/build/trello-board-project-8bdf3262a715161831fa59d0cb63d019.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["productivity"],"level":3},{"slug":"blog.2018.rust-governance","title":"I like Rust’s governance structure","description":"","date":"2018-10-18","thumbnail":"/build/2018-10-19-rust_logo-289e5fae011c6977d6d4ca2e7c0570dd.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["python","governance","community"],"level":3},{"slug":"blog.2018.sphinx-copy-buttons","title":"Adding copy buttons to code blocks in Sphinx","description":"","date":"2018-07-05","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["python","blogging","sphinx","documentation"],"level":3},{"level":2,"title":"2017"},{"slug":"blog.2017.2017-01-04-matplotlib-cycles","title":"Matplotlib Cyclers are Great","description":"","date":"2017-01-04","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["python","open science","visualizations"],"level":3},{"slug":"blog.2017.2017-03-16-dates-in-python","title":"Dates in python","description":"","date":"2017-03-16","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["python","open science"],"level":3},{"slug":"blog.2017.2017-11-02-dates-multiple-plots","title":"Combining dates with analysis visualization in python","description":"","date":"2017-11-02","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["python","open science"],"level":3},{"level":2,"title":"2016"},{"slug":"blog.2016.2016-07-02-fft-time","title":"The beauty of computational efficiency","description":"","date":"2016-07-02","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["python","programming","computation","efficiency","fft"],"level":3},{"slug":"blog.2016.2016-07-08-voting-randomness","title":"Could Brexit have happened by chance?","description":"","date":"2016-07-08","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["python","voting","statistics","computation","fft"],"level":3},{"slug":"blog.2016.2016-11-01-5-things-scipy-2016","title":"5 things I learned at SciPy","description":"","date":"2016-11-01","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["python","open science","programming","conferences"],"level":3},{"slug":"blog.2016.2016-11-01-5-things-scipy-2016-1","title":"1. Scientific conferences can be fun","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"blog.2016.2016-11-30-funnel-plots","title":"Visualizing publication bias","description":"","date":"2016-11-30","thumbnail":"/build/funnel_plot_no_dists-a66702a1a4637301b036e46f851fc45e.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["python","funnel plots","open science","visualizations","simulations"],"level":3},{"slug":"blog.2016.2016-12-19-biorxiv-neuro","title":"The bleeding edge of publishing, Scraping publication amounts at biorxiv","description":"","date":"2016-12-19","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["python","open science","visualizations","web scraping","preprints"],"level":3},{"slug":"blog.2016.2016-12-23-christmas-ecog-plot","title":"Brainy Jingle Bells","description":"","date":"2016-12-23","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["python","open science","visualizations","brains","holidays"],"level":3},{"level":2,"title":"2015"},{"slug":"blog.2015.2015-05-27-coherence-correlation","title":"Coherence vs. Correlation - a simple simulation","description":"","date":"2015-05-27","thumbnail":"/build/eeg_coh-cae9c917c40afecc6c64c94bd21ca00c.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["python","programming","timeseries","correlation"],"level":3},{"slug":"blog.2015.2015-08-30-craigslist-scrape","title":"Scraping craigslist","description":"","date":"2015-08-30","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["python","programming"],"level":3},{"slug":"blog.2015.2015-09-27-craigslist-data-analysis","title":"Craigslist data analysis","description":"","date":"2015-09-27","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["python","scraping","data analysis","visualization"],"level":3},{"slug":"blog.2015.2015-10-29-nih-grant-analysis","title":"NIH grant analysis","description":"","date":"2015-10-29","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["python","statistics","visualization","grants"],"level":3}]}]},"page":{"kind":"Notebook","sha256":"049f322601b7779d8a8ca9fcecba33bd166587f4c74aed3e0aea143801d3c78c","slug":"blog.2018.makeitpop","location":"/blog/2018/makeitpop.ipynb","dependencies":[],"frontmatter":{"title":"Introducing makeitpop, a tool to perceptually warp your data!\"","content_includes_title":true,"tags":["python colormaps"],"date":"2018-06-04","kernelspec":{"name":"python3","display_name":"Python 3 (ipykernel)","language":"python"},"github":"https://github.com/choldgraf/choldgraf.github.io","exports":[{"format":"ipynb","filename":"makeitpop.ipynb","url":"/build/makeitpop-6fbcb2598a8b4c66ad05025e6e3fbc4a.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-code","data":{"editable":true,"slideshow":{"slide_type":""},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"import matplotlib.pyplot as plt\nimport numpy as np\nimport pandas as pd\nfrom makeitpop import makeitpop, update_derivatives, cmaps\nimport seaborn as sns\nsns.set(font_scale=2, style='white')\n\n# Get the perceptual derivatives we use for popping so we can visualize\nderivatives, derivatives_scaled = update_derivatives(cmaps)","visibility":"show","key":"sS7GxOw9qS"},{"type":"output","id":"s6mGQmRoqkq4wmdPyioXg","data":[],"visibility":"show","key":"OrNHy2MZCT"}],"visibility":"remove","key":"SI8DL2aL8F"},{"type":"block","kind":"notebook-content","data":{"editable":true,"slideshow":{"slide_type":""},"tags":[]},"children":[{"type":"thematicBreak","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"c6HozRaapK"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"category: til\ndate: ‘2018-06-04’\nfeatured_image: 3\nkernelspec:\ndisplay_name: Python 3 (ipykernel)\nlanguage: python\nname: python3\nlanguage_info:\ncodemirror_mode:\nname: ipython\nversion: 3\nfile_extension: .py\nmimetype: text/x-python\nname: python\nnbconvert_exporter: python\npygments_lexer: ipython3\nversion: 3.9.7\nredirect: makeitpop-intro\ntags:","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"mU2ChPsFzS"}],"key":"hNktD4Dm2D"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":21,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":21,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"python colormaps\ntitle: Introducing ","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"jvhjxRx0YI"},{"type":"emphasis","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"makeitpop","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"XrIvElv3CQ"}],"key":"BdoTtIvPme"},{"type":"text","value":", a tool to perceptually warp your data!","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"Knx98iJBI7"}],"key":"Nvze7kDOpH"}],"key":"iM29je3bbX"},{"type":"thematicBreak","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"Z3DWkG880I"},{"type":"heading","depth":1,"position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"text","value":"Introducing ","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"j4sY3sqTF1"},{"type":"emphasis","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"text","value":"makeitpop","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"aruW33d0X5"}],"key":"iAYsD0np5r"},{"type":"text","value":", a tool to perceptually warp your data!\"","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"Uuv7nM5prl"}],"identifier":"introducing-makeitpop-a-tool-to-perceptually-warp-your-data","label":"Introducing makeitpop, a tool to perceptually warp your data!\"","html_id":"introducing-makeitpop-a-tool-to-perceptually-warp-your-data","implicit":true,"key":"bngnoKYbES"},{"type":"admonition","kind":"note","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Note","key":"CQgiqVegU6"}],"key":"ALQo63xf63"},{"type":"paragraph","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"children":[{"type":"text","value":"It should go without saying, but ","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"Pwv3waYueF"},{"type":"strong","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"children":[{"type":"text","value":"you should never do the stuff that you’re about to read about here","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"M8evlVUzsm"}],"key":"JJtt3krYg3"},{"type":"text","value":". Data is meant to speak for itself, and our visualizations should accurately reflect the data above all else.*","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"DPNwBlPgIn"}],"key":"JS35E9R6QD"}],"key":"OJz8mQQ6yw"},{"type":"paragraph","position":{"start":{"line":31,"column":1},"end":{"line":33,"column":1}},"children":[{"type":"text","value":"When I was in graduate school, I tended to get on my soapbox and tell everybody\nwhy they should ","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"iWWWiprJji"},{"type":"link","url":"http://jakevdp.github.io/blog/2014/10/16/how-bad-is-your-colormap/","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"children":[{"type":"text","value":"stop using Jet","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"KIlKcVVUUW"}],"urlSource":"http://jakevdp.github.io/blog/2014/10/16/how-bad-is-your-colormap/","key":"NACqNABFYB"},{"type":"text","value":"\nand adopt a “perceptually-flat” colormap like ","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"LQS0ZyY0Zy"},{"type":"link","url":"https://bids.github.io/colormap/","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"children":[{"type":"text","value":"viridis, magma, or inferno","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"ilKT2aIpAW"}],"urlSource":"https://bids.github.io/colormap/","key":"jihZoe8nso"},{"type":"text","value":".","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"VWWRJ2B4cc"}],"key":"tzXQZbp9wA"},{"type":"paragraph","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"text","value":"Surprisingly (ok, maybe not so surprisingly) I got a lot of pushback from people. Folks would say ","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"GJvxDxTIp8"},{"type":"emphasis","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"text","value":"“But I like ","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"ADxUXu4gAP"},{"type":"strong","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"text","value":"jet","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"TA65lmtgFi"}],"key":"U51VbSfvZg"},{"type":"text","value":", it really highlights my data, it makes the images ‘pop’ more effectively than viridis!”","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"iI1Q5qdofo"}],"key":"sU3Cu2TAYW"},{"type":"text","value":".","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"iihvoGzacG"}],"key":"mW8o2QiSkJ"},{"type":"paragraph","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"children":[{"type":"text","value":"Unfortunately it turns out that when a colormap “makes your data pop”, it really just means “","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"EqxCuT2AgF"},{"type":"link","url":"https://bids.github.io/colormap/","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"children":[{"type":"text","value":"warps your perception of the visualized data so that you see non-linearities when there are none","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"yrymoUhiGE"}],"urlSource":"https://bids.github.io/colormap/","key":"xD3yoNxIkg"},{"type":"text","value":"”. AKA, a colormap like Jet actually ","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"TBLU7CEFwL"},{"type":"emphasis","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"children":[{"type":"text","value":"mis-represents","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"wKodsJJa95"}],"key":"WmDIMIiFNw"},{"type":"text","value":" the data.","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"SLdzqwcNIT"}],"key":"HkWuYXnQzz"},{"type":"paragraph","position":{"start":{"line":39,"column":1},"end":{"line":40,"column":1}},"children":[{"type":"text","value":"But what does this really mean? It’s difficult to talk and think about coor - especially when it comes to relating color with objective relationships\nbetween data. Rather than talking about colormaps in the abstract, what if we could ","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"key":"hvcaBh6SUJ"},{"type":"emphasis","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"children":[{"type":"text","value":"visualize","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"key":"n6Lh51Ewy7"}],"key":"tPph7IRnbk"},{"type":"text","value":" the warping that is performed by colormaps like Jet?","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"key":"eFzTckHynp"}],"key":"OyikxO3HkU"},{"type":"paragraph","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"children":[{"type":"text","value":"In this post I’ll show that this is possible! Introducing ","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"key":"SvER3xZFyB"},{"type":"strong","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"children":[{"type":"inlineCode","value":"makeitpop","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"key":"iKICbOyugg"}],"key":"weFTdPiE3B"},{"type":"text","value":".","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"key":"ldztcJff78"}],"key":"JmsEYeB5VO"},{"type":"heading","depth":2,"position":{"start":{"line":45,"column":1},"end":{"line":45,"column":1}},"children":[{"type":"text","value":"What does ","position":{"start":{"line":45,"column":1},"end":{"line":45,"column":1}},"key":"Gy1GAEJrhb"},{"type":"emphasis","position":{"start":{"line":45,"column":1},"end":{"line":45,"column":1}},"children":[{"type":"text","value":"makeitpop","position":{"start":{"line":45,"column":1},"end":{"line":45,"column":1}},"key":"htBZEy04XF"}],"key":"l1RNcgWSaC"},{"type":"text","value":" do?","position":{"start":{"line":45,"column":1},"end":{"line":45,"column":1}},"key":"UU3hWWCjEE"}],"identifier":"what-does-makeitpop-do","label":"What does makeitpop do?","html_id":"what-does-makeitpop-do","implicit":true,"key":"ioEWXNaTJP"},{"type":"paragraph","position":{"start":{"line":47,"column":1},"end":{"line":49,"column":1}},"children":[{"type":"text","value":"Makeitpop lets you apply the same perceptual warping that would ","position":{"start":{"line":47,"column":1},"end":{"line":47,"column":1}},"key":"BuN0tqwV4Q"},{"type":"emphasis","position":{"start":{"line":47,"column":1},"end":{"line":47,"column":1}},"children":[{"type":"text","value":"normally","position":{"start":{"line":47,"column":1},"end":{"line":47,"column":1}},"key":"Y1jO6iOuK2"}],"key":"tx1fWFj9p1"},{"type":"text","value":" be accomplished\nwith a colormap like Jet, but applies this warping to ","position":{"start":{"line":47,"column":1},"end":{"line":47,"column":1}},"key":"ybGp28GlLV"},{"type":"emphasis","position":{"start":{"line":47,"column":1},"end":{"line":47,"column":1}},"children":[{"type":"text","value":"the data itself","position":{"start":{"line":47,"column":1},"end":{"line":47,"column":1}},"key":"ivPzSGAyB8"}],"key":"GRD9PJUx2I"},{"type":"text","value":"! This lets us\nget the same effect with a nice linear colormap like ","position":{"start":{"line":47,"column":1},"end":{"line":47,"column":1}},"key":"RVAaKyxRej"},{"type":"inlineCode","value":"viridis","position":{"start":{"line":47,"column":1},"end":{"line":47,"column":1}},"key":"Zg8W2eKD20"},{"type":"text","value":"!","position":{"start":{"line":47,"column":1},"end":{"line":47,"column":1}},"key":"NG1Kj7XtFV"}],"key":"B2hDfOQvR9"},{"type":"paragraph","position":{"start":{"line":51,"column":1},"end":{"line":51,"column":1}},"children":[{"type":"text","value":"For example, let’s take a look at the ","position":{"start":{"line":51,"column":1},"end":{"line":51,"column":1}},"key":"RalExi1Q0R"},{"type":"link","url":"https://matplotlib.org/gallery/images_contours_and_fields/image_demo.html#sphx-glr-gallery-images-contours-and-fields-image-demo-py","position":{"start":{"line":51,"column":1},"end":{"line":51,"column":1}},"children":[{"type":"text","value":"image demo in matplotlib","position":{"start":{"line":51,"column":1},"end":{"line":51,"column":1}},"key":"ZrcdG0a69R"}],"urlSource":"https://matplotlib.org/gallery/images_contours_and_fields/image_demo.html#sphx-glr-gallery-images-contours-and-fields-image-demo-py","key":"o2LpaVrX2h"},{"type":"text","value":". In it, we create two blobs that are meant to be visualized as an image. We’ll visualize this with our old friend viridis.","position":{"start":{"line":51,"column":1},"end":{"line":51,"column":1}},"key":"uNhgLK9OOE"}],"key":"iYIxHbFcsY"}],"visibility":"show","key":"rIAxYfcjuM"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create a mesh grid with two gaussian blobs\ndelta = 0.025\nx = y = np.arange(-3.0, 3.0, delta)\nX, Y = np.meshgrid(x, y)\nZ1 = np.exp(-X**2 - Y**2)\nZ2 = np.exp(-(X - 1)**2 - (Y - 1)**2)\nZ = (Z1 - Z2) * 2\n\n# Visualize it\nfig, ax = plt.subplots(figsize=(5, 5))\nax.imshow(Z, cmap=plt.cm.viridis,\n          origin='lower', extent=[-3, 3, -3, 3],\n          vmax=abs(Z).max(), vmin=-abs(Z).max())\nax.set(title=\"Original data\\nlinear colormap\")\nplt.tight_layout()","key":"j4XYqgmvzk"},{"type":"output","id":"EdgcW1cRrc-crhQRlgda2","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"d73bb4a4e3d34ff442b6221bcbab289a","path":"/build/d73bb4a4e3d34ff442b6221bcbab289a.png"},"text/plain":{"content":"\u003cFigure size 360x360 with 1 Axes\u003e","content_type":"text/plain"}}}],"key":"z9ND6C1DfC"}],"key":"QkXlQjuqQE"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Hmmm, not too bad...but it’s a bit ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"nt0d7w0sNX"},{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"boring","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Itdh5NdowX"}],"key":"eayBlBmFai"},{"type":"text","value":", no? Why can’t we make it snazzier? I know, let’s use Jet!","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"TYpNnqaOio"}],"key":"GDsMiEiLle"}],"key":"ap7P8DtaiV"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# Visualize our data\nfig, ax = plt.subplots(figsize=(5, 5))\nax.imshow(Z, cmap=plt.cm.jet,\n          origin='lower', extent=[-3, 3, -3, 3],\n          vmax=abs(Z).max(), vmin=-abs(Z).max())\nax.set(title=\"Original data\\nnon-linear colormap\")\nplt.tight_layout()","visibility":"hide","key":"iU9rFMu7mI"},{"type":"output","id":"xYYNCMpcZ1eAfMBNOBNmM","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"1a8f3e638a5b938f6fa8524abd74732e","path":"/build/1a8f3e638a5b938f6fa8524abd74732e.png"},"text/plain":{"content":"\u003cFigure size 360x360 with 1 Axes\u003e","content_type":"text/plain"}}}],"visibility":"show","key":"etZckUaJl2"}],"visibility":"show","key":"KCXdUpRsJJ"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Oooh now that’s what I’m talking about. You can clearly see two peaks of significant results\nat the center of each circle. Truly this is fit for publishing in ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"OUztN1ZjHk"},{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Nature","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"CN5c85dKtK"}],"key":"zncD6G0oeN"},{"type":"text","value":".","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"gnXJHKKGh9"}],"key":"GRi6fJtqdf"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"But...as you all know, this data only ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"S2h4yBfWSR"},{"type":"emphasis","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"looks","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"i7qArIvLyq"}],"key":"mNtLgw0OX3"},{"type":"text","value":" better because we’ve used a colormap that distorts\nour perception of the underlying data.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"CQvcKoYuO2"}],"key":"dwPZkz5E5M"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Let’s illustrate this by ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"UFmBvXUjui"},{"type":"strong","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"making it pop","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"yWzmjkJFPi"}],"key":"pUBKsSkpra"},{"type":"text","value":"!","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"cpKHV6Vfjh"}],"key":"oz67vE5jCw"}],"key":"VZjlmyHDsc"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# Pop the data!\nZ_popped = makeitpop(Z, 'jet', scaling_factor=20)\n\n# Visualize the warped data\nfig, ax = plt.subplots(figsize=(5, 5))\nax.imshow(Z_popped, cmap=plt.cm.viridis,\n          origin='lower', extent=[-3, 3, -3, 3],\n          vmax=abs(Z).max(), vmin=-abs(Z).max())\nax.set(title=\"Warped data\\nlinear colormap\")\nplt.tight_layout()","visibility":"hide","key":"j0cDvpmn8g"},{"type":"output","id":"6lb9t1khAqkFz_-LOMqxP","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"eac18d15b86dcd0d197fe1c4e0236370","path":"/build/eac18d15b86dcd0d197fe1c4e0236370.png"},"text/plain":{"content":"\u003cFigure size 360x360 with 1 Axes\u003e","content_type":"text/plain"}}}],"visibility":"show","key":"m5We6NZCMY"}],"visibility":"show","key":"QL7z8hM6uE"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Excellent! We’re using a nice, perceptually-flat colormap like viridis, but we’ve attained\nan effect similar to the one that ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"FREOJcybbZ"},{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Jet","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Fveu4rsnzR"}],"key":"HjVZvPrTYH"},{"type":"text","value":" would have created!","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"fmij0auldT"}],"key":"OydPwDR3Hq"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Now let’s visualize all three next to each other so that we can see the total effect:","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"t39UOI9XmN"}],"key":"qHiJWzopDc"}],"key":"LLf4sGJQbP"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"fig, axs = plt.subplots(1, 3, figsize=(15, 5), sharey=True)\n\nkws_img = dict(extent=[-3, 3, -3, 3], origin='lower',\n               vmax=abs(Z).max(), vmin=-abs(Z).max())\n\n# Raw data with a perceptually-flat colormap\naxs[0].imshow(Z, cmap=plt.cm.viridis, **kws_img)\naxs[0].set(title=\"Original data\\nlinear colormap\")\n\n# Raw data with a perceptually-distorted colormap\naxs[1].imshow(Z, cmap=plt.cm.jet, **kws_img)\naxs[1].set(title=\"Original data\\nnon-linear colormap\")\n\n# Distorted data with a perceptually-flat colormap\naxs[2].imshow(Z_popped, cmap=plt.cm.viridis, **kws_img)\naxs[2].set(title=\"Warped data\\nlinear colormap\")\n\nplt.tight_layout()","visibility":"hide","key":"KtrzshApDh"},{"type":"output","id":"jsXfRawobyYT6hIu_Q9mS","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"ca23076a3b132a79ae4781726189e7a8","path":"/build/ca23076a3b132a79ae4781726189e7a8.png"},"text/plain":{"content":"\u003cFigure size 1080x360 with 3 Axes\u003e","content_type":"text/plain"}}}],"visibility":"show","key":"qHF84n0pcp"}],"visibility":"show","key":"RzsqVeRqjk"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Let’s see it in the real world","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"DnIGne9CdA"}],"identifier":"lets-see-it-in-the-real-world","label":"Let’s see it in the real world","html_id":"lets-see-it-in-the-real-world","implicit":true,"key":"JDUH8x3olK"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Thus far I’ve been using toy examples to illustrate how makeitpop works. Let’s see how\nthings look on an actual dataset collected in the wild.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"z2gU0blhwD"}],"key":"r1SVwOH2th"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"For this, we’ll use the excellent ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"GL3NsEziSE"},{"type":"link","url":"https://nilearn.github.io/","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"nilearn","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"OeThGht7x9"}],"urlSource":"https://nilearn.github.io/","key":"pJ3TOSEwNC"},{"type":"text","value":" package. This has a\nfew datasets we can download to demonstrate our point. First we’ll load the data and prep it:","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"c6pjNeAB5F"}],"key":"Ap6N17hFTf"}],"key":"qYzs4umMPT"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"from nilearn import datasets\nfrom nilearn import plotting\nimport nibabel as nb\n\n# Load a sample dataset\ntmap_filenames = datasets.fetch_localizer_button_task()['tmaps']\ntmap_filename = tmap_filenames[0]\n\n# Threshold our data for viz\nbrain = nb.load(tmap_filename)\nbrain_data = brain.get_fdata()\nmask = np.logical_or(brain_data \u003c -.01, brain_data \u003e .01)","key":"aGMUiC9HUc"},{"type":"output","id":"9TwVl3Z66gfB29vx86n0u","data":[{"name":"stderr","output_type":"stream","text":"/home/choldgraf/anaconda/envs/dev/lib/python3.6/site-packages/h5py/__init__.py:36: FutureWarning: Conversion of the second argument of issubdtype from `float` to `np.floating` is deprecated. In future, it will be treated as `np.float64 == np.dtype(float).type`.\n  from ._conv import register_converters as _register_converters\n/home/choldgraf/anaconda/envs/dev/lib/python3.6/site-packages/numpy/lib/npyio.py:2266: VisibleDeprecationWarning: Reading unicode strings without specifying the encoding argument is deprecated. Set the encoding, use None for the system default.\n  output = genfromtxt(fname, **kwargs)\n"}],"key":"owFCh2HgLe"}],"key":"zoufQvgzWx"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Next, we’ll create a “popped” version of the data, where we apply the non-linear warping\nproperties of ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"IznUwEtjaO"},{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Jet","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"dD9EvJtwFt"}],"key":"z0XlL0EgY3"},{"type":"text","value":" to our data, so that we can visualize the same effect in linear space.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"vNegGI5ult"}],"key":"YJZ3JrjCwi"}],"key":"RhvBrI3pbu"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create a copy of the data, then pop it\n# We'll use a scaling factor to highlight the effect\nbrain_popped = brain_data.copy()\nbrain_popped[mask] = makeitpop(brain_popped[mask], colormap='jet', scaling_factor=75)\nbrain_popped = nb.Nifti1Image(brain_popped, brain.affine)","key":"lVYc5JSBjo"},{"type":"output","id":"tbKyMZsIoHm5I9e1IhA0-","data":[],"key":"SOlwy7VJLF"}],"key":"l4Snl6NEpz"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Now, I’ll plot the results for each.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"OgtAMlynvC"}],"key":"NTprXIs7r4"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"First, we’ll see the raw data on a linear colormap. This is the way we’d display the data to show the true underlying relationships between datapoints.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"tapgMH4joX"}],"key":"sAfZIHFfQK"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Next, we’ll show the same data plotted with ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"EDneEAmg6O"},{"type":"emphasis","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Jet","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"M3z4ceZXtJ"}],"key":"FymoEOhlaB"},{"type":"text","value":". See how many more significant voxels there are! (/s)","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"yXh1voAVnP"}],"key":"d8Wc5K8PMB"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Finally, we’ll plot the “popped” data using a linear colormap (viridis). This accurately represents the underlying data, but the data ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"nPCbe6uPft"},{"type":"emphasis","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"itself","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"TxUMHdYEgp"}],"key":"QMaqsNTHt3"},{"type":"text","value":" has been distorted!","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"ZSdQANGnM1"}],"key":"vugyaWBr6M"}],"key":"sKvhF8dNjy"}],"key":"IKDHqcmnbF"},{"type":"block","kind":"notebook-code","data":{"scrolled":true,"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"for i_brain, name in [(brain, 'original'), (brain, 'original (jet)'), (brain_popped, 'popped brain')]:\n    cmap = 'jet' if name == 'original (jet)' else 'viridis'\n    plotting.plot_stat_map(i_brain, cmap=cmap, vmax=7, display_mode='x',\n                           title=name, cut_coords=np.linspace(20, 50, 5, dtype=int))","visibility":"hide","key":"GpiIUTlf5p"},{"type":"output","id":"TjNP3AwhFEe2BTdtfneKq","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"f2561b8922b3ccbb76804960ce5b33fc","path":"/build/f2561b8922b3ccbb76804960ce5b33fc.png"},"text/plain":{"content":"\u003cFigure size 986.4x165.6 with 7 Axes\u003e","content_type":"text/plain"}}},{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"746efad652ea060fa2450b08c8251b6b","path":"/build/746efad652ea060fa2450b08c8251b6b.png"},"text/plain":{"content":"\u003cFigure size 986.4x165.6 with 7 Axes\u003e","content_type":"text/plain"}}},{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"d24c4c5144bc23cb3127b045acffae31","path":"/build/d24c4c5144bc23cb3127b045acffae31.png"},"text/plain":{"content":"\u003cFigure size 986.4x165.6 with 7 Axes\u003e","content_type":"text/plain"}}}],"visibility":"show","key":"gLgHkbGotw"}],"visibility":"show","key":"QJnZBo2UoI"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"As you can see, different kinds of results show up when your perception of the data is affected by the colormap.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"f3sXjuAJsL"}],"key":"rtpuNoQdLu"}],"key":"uyeQCZ38WY"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"How does this work?","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ly8JxNR4qj"}],"identifier":"how-does-this-work","label":"How does this work?","html_id":"how-does-this-work","implicit":true,"key":"Rn43R94kpR"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"OK, so what is the black voodoo magic that makes it possible to “make your data pop”?","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"dUmDmQXGnC"}],"key":"vU4Rt2RjOR"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"It all comes down to your visual system. I won’t go into a ton of detail\nbecause Nathaniel Smith and Stefan van der Walt ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"p7Q5ZDo6rd"},{"type":"link","url":"https://www.youtube.com/watch?v=xAoljeRJ3lU","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"already gave a great talk about this","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"oFcYUDPlO2"}],"urlSource":"https://www.youtube.com/watch?v=xAoljeRJ3lU","key":"WUAFTTY9ox"},{"type":"text","value":", however here is a lay-person’s take:","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"VJ975Uq9lb"}],"key":"sDN8MRNC92"},{"type":"paragraph","position":{"start":{"line":8,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"When we use color to represent data, we are mapping a range of data values onto\na range of color values. Usually this means defining a min / max for our data, then mapping data\nvalues linearly from 0 to 1, and finally mapping those values onto RGB values in a colormap.","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"T7ztmUVYFY"}],"key":"R762hDoVfL"},{"type":"paragraph","position":{"start":{"line":12,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Implicit in this process is the idea that stepping across our space in the ","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"vGdvEjbDvb"},{"type":"emphasis","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"data","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"CEI4iXi0Dd"}],"key":"staZMIU0dy"},{"type":"text","value":" equates to\nan equal step in our ","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"AdtQ1LFBhk"},{"type":"emphasis","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"perception","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"h8CJ0qaAzW"}],"key":"uqxITi9gXs"},{"type":"text","value":" of the color that is then chosen. We want a one-to-one mapping between the two.","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"Ou2Y8S76Td"}],"key":"VSdOFQmc1w"},{"type":"paragraph","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"Unfortunately, this isn’t how our visual system works.","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"oxQbXG6qKH"}],"key":"Q52iM3mIs3"},{"type":"paragraph","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"In reality, our brains do all kinds of strange things when interpreting color. They are biased to detect changes between particular kinds of colors, and biased to miss the transition between others.","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"YQ94VMj7hK"}],"key":"DjMb5IjfAO"},{"type":"paragraph","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"Jet","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"nCTkqSy4ne"}],"key":"u6uS9sv6H4"},{"type":"text","value":" uses a range of colors that highlight this fact. It transitions through colors such that ","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"ngn78herxz"},{"type":"emphasis","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"linear","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"rtygts3m4i"}],"key":"Rv0CKtq7WZ"},{"type":"text","value":" changes in our data are perceived as ","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"b3t0HpZ9CH"},{"type":"emphasis","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"nonlinear","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"syK5OL5vnc"}],"key":"JVsKmBFPUQ"},{"type":"text","value":" changes when we look at the visualization. That’s what makes the data “pop”.","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"bdVtAGuTsy"}],"key":"i8aFDaA854"},{"type":"heading","depth":2,"position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"Perceptual “delta” curves","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"ATlOf6VbFP"}],"identifier":"perceptual-delta-curves","label":"Perceptual “delta” curves","html_id":"perceptual-delta-curves","implicit":true,"key":"OYC4yvZHiK"},{"type":"paragraph","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"You can determine the extent to which a colormap “warps” your perception of the data by calculating the “perceptual deltas” as you move across the values of a colormap (e.g. as you move from 0 to 1, and their corresponding colors).","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"U6eyGSANRO"}],"key":"ySSN5cnOIb"},{"type":"paragraph","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"text","value":"These deltas essentially mean “how much is the ","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"coNNYifi1q"},{"type":"emphasis","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"text","value":"next","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"qk3e154BR8"}],"key":"ihMT8t5n3t"},{"type":"text","value":" color in the colormap perceived as different from the ","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"q4uIxohqTo"},{"type":"emphasis","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"text","value":"current","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"lwdHyr3ORO"}],"key":"x9aEd80vNc"},{"type":"text","value":" color?” If your colormap is perceptually flat, the delta will be the ","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"AyH2iGXQ3p"},{"type":"emphasis","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"text","value":"same","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"XwM4R19hR7"}],"key":"eLXhARdAfa"},{"type":"text","value":" no matter where you are on the range from 0 to 1.","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"TW1aCTL7aq"}],"key":"snhmxnNFr4"},{"type":"paragraph","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"text","value":"Let’s see what the deltas look like for ","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"DzuSs5klTH"},{"type":"emphasis","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"text","value":"Jet","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"PLNUzhvrDd"}],"key":"ordd4UMZYb"},{"type":"text","value":":","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"s9RrYdh6Dx"}],"key":"mVUVlB6GRu"}],"key":"ANmpbw7uI6"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"def plot_colormap_deltas(deltas, cmap, ax=None):\n    if ax is None:\n        fig, ax = plt.subplots(figsize=(10, 5))\n    xrange = np.arange(len(derivatives))\n    sc = ax.scatter(xrange, deltas, c=xrange, vmin=xrange.min(), vmax=xrange.max(),\n                    cmap=plt.cm.get_cmap(cmap), s=20)\n    ax.plot(xrange, deltas, c='k', alpha=.1)\n    return ax\n\nax = plot_colormap_deltas(derivatives['jet'].values, 'jet')\nylim = ax.get_ylim()  # So we can compare with other colormaps\nax.set(title=\"Perceptual deltas with Jet\")","visibility":"hide","key":"AYQCVG91Gw"},{"type":"output","id":"VX3lwmSLA74PJtwTyeSxl","data":[{"output_type":"execute_result","execution_count":9,"metadata":{},"data":{"text/plain":{"content":"[Text(0.5,1,'Perceptual deltas with Jet')]","content_type":"text/plain"}}},{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"44abc6d34cc21a06d04b6bd2b44ff8e4","path":"/build/44abc6d34cc21a06d04b6bd2b44ff8e4.png"},"text/plain":{"content":"\u003cFigure size 720x360 with 1 Axes\u003e","content_type":"text/plain"}}}],"visibility":"show","key":"lbS2WLLcvD"}],"visibility":"show","key":"Ziq9V6adC0"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Oops.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"fV6gzp3mJN"}],"key":"lNjRxwIHRk"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"As you can see, Jet does ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"KOvj5GFaPG"},{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"not","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"lBSPSPLe9t"}],"key":"VYriqOEjVl"},{"type":"text","value":" have a flat line for perceptual deltas. Each “jump” you see above is a moment where Jet is actually ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"JRWTbwxn1x"},{"type":"emphasis","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"mis-representing","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"t70uc7XgN1"}],"key":"uNeGBypAjb"},{"type":"text","value":" differences in the data. For shame, Jet.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"YarYLhcSTN"}],"key":"UI1HaIdSwF"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Now let’s see what this looks like for viridis:","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"aT78r9Pd6x"}],"key":"Fh9Y8YNDVb"}],"key":"eSUFr3owDd"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"ax = plot_colormap_deltas(derivatives['viridis'].values, 'viridis')\nax.set(ylim=ylim, title=\"Perceptual deltas with viridis\");","visibility":"hide","key":"epcW1lLxUM"},{"type":"output","id":"dGUX2EECLZ8ZLWbpE1ONL","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"5c7e41cb19cef6a2b5bd065dc62e9804","path":"/build/5c7e41cb19cef6a2b5bd065dc62e9804.png"},"text/plain":{"content":"\u003cFigure size 720x360 with 1 Axes\u003e","content_type":"text/plain"}}}],"visibility":"show","key":"AL3mcaMDXR"}],"visibility":"show","key":"ZBsaOopGAE"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Ahhh, sweet, sweet linear representation of data.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ALe1byQ0Vw"}],"key":"JfsHj80BZG"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"In case you’re curious, here are the “perceptual deltas” for several colormaps.\nIn this case, I’ve centered them and scaled each by the variance of the largest colormap,\nso that they are easier to compare.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"lF2SiwMXpl"}],"key":"w7Dsw7H2uj"}],"key":"UXXsBooaE9"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"fig, ax = plt.subplots(figsize=(10, 5))\nfor cmap, deltas in derivatives_scaled.items():\n    if cmap == 'linear':\n        continue\n    ax = plot_colormap_deltas(deltas.values, cmap, ax=ax)\nax.set(title=\"Scaled perceptual deltas for a bunch of colormaps\");","visibility":"hide","key":"Syq4K4VheU"},{"type":"output","id":"uahDBUpcBej8LnyHK1h5F","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"9651655c35f231da7365f0d9e9495241","path":"/build/9651655c35f231da7365f0d9e9495241.png"},"text/plain":{"content":"\u003cFigure size 720x360 with 1 Axes\u003e","content_type":"text/plain"}}}],"visibility":"show","key":"pds9aIfBpO"}],"visibility":"show","key":"A9flLfMbYw"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We can even warp 1-dimensional data!","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Ry5JHD9UqQ"}],"identifier":"we-can-even-warp-1-dimensional-data","label":"We can even warp 1-dimensional data!","html_id":"we-can-even-warp-1-dimensional-data","implicit":true,"key":"IZ9NiCypXW"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Let’s see how this principle affects our perception with a different kind of visual\nencoding. Now that we know these perceptual warping functions, we can get all the\ndata-warping properties of jet, but in one dimension!","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"nA3m8YGYLl"}],"key":"kacpzs2QJo"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Here’s a line.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"ZSUXDogDuw"}],"key":"rTdqZbe74j"}],"key":"h0DGMrJ633"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"fig, ax = plt.subplots(figsize=(5, 5))\nx = np.linspace(0, 1, 100)\nax.plot(x, x, 'k-', lw=8, alpha=.4, label='True Data')\nax.set_title('Totally boring line.\\nNothing to see here.');","visibility":"hide","key":"v5uvjGUuq5"},{"type":"output","id":"AT_j6exm3VkAfVe-uhF9w","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"1380332b4dc057cbb3dd647597b153d5","path":"/build/1380332b4dc057cbb3dd647597b153d5.png"},"text/plain":{"content":"\u003cFigure size 360x360 with 1 Axes\u003e","content_type":"text/plain"}}}],"visibility":"show","key":"PydOkQvMOC"}],"visibility":"show","key":"C1TdqaG308"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Ew. Boring.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"nSosZPGfIz"}],"key":"XqMrDcnrY4"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Now, let’s make it pop! We’ll loop through a few colormaps, applying its color\nwarping function to the y-axis of our line as we step through it.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"d2SNEgAXcX"}],"key":"M4hFGlpxne"}],"key":"eeeG0bw1sn"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"names = ['jet', 'viridis', 'rainbow', 'spring', 'hsv']\nfig, ax = plt.subplots(figsize=(10, 10))\n\nx = np.linspace(0, 1, 1000)\nax.plot(x, x, 'k-', lw=12, alpha=.4, label='True Data')\nfor nm in names:\n    ax.plot(x, makeitpop(x, colormap=nm, scaling_factor=40), label=nm, lw=4)\n    ax.legend(loc=(1.05, .6))\nax.set_title('Making data \"pop\" is fun!')","visibility":"hide","key":"lw1p7OHI0E"},{"type":"output","id":"vr5Xnilq91LGEx_w7wV_L","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"2e7f7748b3803d63971d8eff9acaa07a","path":"/build/2e7f7748b3803d63971d8eff9acaa07a.png"},"text/plain":{"content":"\u003cFigure size 720x720 with 1 Axes\u003e","content_type":"text/plain"}}}],"visibility":"show","key":"T3yazdu6N3"}],"visibility":"show","key":"m2nLq7KQgQ"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"As you can see, data looks much more interesting when it’s been non-linearly warped!\nIt looks particularly striking when you see it on a 1-D plot. This is effectively\nwhat colormaps such as Jet are doing in 2 dimensions! We’re simply bringing the fun\nback to 1-D space.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"w7EJoojuPU"}],"key":"A7Uqedq8Ob"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Let’s see how it looks on some scatterplots. We’ll plot the raw data in the background in grey,\nand the “popped” data in front in color. Notice how some colormaps distort the y-values more\nthan others.","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"BSY6K2LoQ8"}],"key":"hCgbF9si5L"}],"key":"PNFzN6b2cg"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"names = ['viridis', 'jet', 'rainbow', 'spring', 'hsv']\nfig, axs = plt.subplots(1, len(names), figsize=(20, 4), sharex=True, sharey=True)\nx = np.linspace(0, 1, 100)\ny = x + np.random.randn(len(x)) * .2\nfor name, ax in zip(names, axs):    \n    ax.scatter(x, y, c='k', s=80, alpha=.2)\n    ax.scatter(x, makeitpop(y, name, 40), c=y, s=40, alpha=.8, cmap=plt.get_cmap(name))\n    ax.set(title=name)\n","visibility":"hide","key":"dih7jvlWz5"},{"type":"output","id":"whf5t9wthcsTZNHVHwUXq","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"1ef548abad8d00a0fd471a39dad0054e","path":"/build/1ef548abad8d00a0fd471a39dad0054e.png"},"text/plain":{"content":"\u003cFigure size 1440x288 with 5 Axes\u003e","content_type":"text/plain"}}}],"visibility":"show","key":"HNgU27fTSH"}],"visibility":"show","key":"EwF6jfoYe7"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"So what should we do?","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"YF2FxyNowf"}],"identifier":"so-what-should-we-do","label":"So what should we do?","html_id":"so-what-should-we-do","implicit":true,"key":"rBcOcEYQiO"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"The reason that I wrote this blog post (and made this silly package) is to illustrate what we’re really\ndoing when we use a colormap like ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"F9IDfICDxn"},{"type":"emphasis","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Jet","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"EdbymP9tLH"}],"key":"GO9yvxNhw9"},{"type":"text","value":", and to highlight the importance of using a perceptually-flat colormap.  Sure, we want to choose the visualization that best-makes our point,\nbut a colormap like Jet is ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"E0VBUtv28W"},{"type":"emphasis","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"actively mis-representing your data","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"dvqaz09sC6"}],"key":"z2JCyay0AY"},{"type":"text","value":". You’d ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"yWfqL7Y7ei"},{"type":"emphasis","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"never","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"CbuK3AVlsh"}],"key":"wVZ18BG3hq"},{"type":"text","value":" consider changing the raw\ndata values so that an effect popped out, and you’d ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"mvWp15A5mo"},{"type":"emphasis","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"never","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"nLWiEzZUfz"}],"key":"bsE5mFpHjz"},{"type":"text","value":" alter the y-values of a scatterplot so that something shows up. Well, this is perceptually what you’re doing when you visualize 2-D data with Jet.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"MaP4TTt5HR"}],"key":"gwoOFVZzN1"},{"type":"paragraph","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Here are a few things to keep in mind moving forward:","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"btJjgingab"}],"key":"TaNMezfVj9"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":10,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Don’t use Jet","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"AlNdFwE15u"}],"key":"fzs2OHYcu7"},{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"If you review a paper or are an editor for a journal, consider asking authors to use a perceptually flat colormap (this is usually just a matter of changing ","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"VovnGYmJXi"},{"type":"inlineCode","value":"cmap='viridis'","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"K4Mr6KbDBd"},{"type":"text","value":"!)","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"hs9TF41OHC"}],"key":"XnaX1mOEJk"},{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Be aware of the effects that color has on the point you’re trying to make. Perceptual warping is\njust one of many potential issues with choosing the right color.","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"r1Cfa22Vud"}],"key":"uxF7wyPqrk"}],"key":"rTEwOvJltD"},{"type":"heading","depth":2,"position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"Wrapping up","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"HnWkEniW5y"}],"identifier":"wrapping-up","label":"Wrapping up","html_id":"wrapping-up","implicit":true,"key":"jZ2PwMDCXR"},{"type":"paragraph","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"I hope that this post has been a fun and slightly informative take on the nuances of colormaps, and the unintended effects that they might have.","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"iD3Eet02YG"}],"key":"FMsDrHvCCs"},{"type":"paragraph","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"So, ","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"BUm1zElaMg"},{"type":"inlineCode","value":"tl;dr","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"zZN20Gp2fA"},{"type":"text","value":":","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"bVuCBoOF6x"}],"key":"R8hAwTABNi"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":21,"column":1},"end":{"line":28,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"Jet (and many other colormaps) mis-represent your perception of the data","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"Q97KIugljQ"}],"key":"PxYq3STCae"},{"type":"listItem","spread":true,"position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"Perceptually flat colormaps like Viridis, Magma, Inferno, or Parula minimize this effect","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"eMAmoF3Xnp"}],"key":"pzGXsvSVoJ"},{"type":"listItem","spread":true,"position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"You can calculate the ","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"flVYs6NVpF"},{"type":"emphasis","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"extent","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"HsrKuPIBHD"}],"key":"Cz12DCJYKZ"},{"type":"text","value":" to which this mis-representation happens as you move along the colormap","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"soa4uX7nU1"}],"key":"JNdACTvuCu"},{"type":"listItem","spread":true,"position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"text","value":"We can then use this function to ","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"S9rzpy3f0U"},{"type":"emphasis","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"text","value":"distort","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"KVijA4OIj8"}],"key":"ZMaoPUbrtR"},{"type":"text","value":" data so that the data itself contains this mis-representation","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"OfCIbmOG2Z"}],"key":"K0k6TmZXx4"},{"type":"listItem","spread":true,"position":{"start":{"line":25,"column":1},"end":{"line":28,"column":1}},"children":[{"type":"text","value":"But doing so would be super unethical, so in the end ","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"ixLsUC8K2B"},{"type":"strong","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"text","value":"you should stop using jet and use a perceptually-flat colormap like viridis.","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"JbF5Mqh4WW"}],"key":"JaTowbm7WT"}],"key":"yy8DrkcvrB"}],"key":"r53afSdXvT"},{"type":"paragraph","position":{"start":{"line":29,"column":1},"end":{"line":31,"column":1}},"children":[{"type":"text","value":"If you’d like to check out the ","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"Jg1ijQgLkB"},{"type":"inlineCode","value":"makeitpop","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"MJGEwrteFK"},{"type":"text","value":" package, see the ","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"aeYr29TyuT"},{"type":"link","url":"https://github.com/choldgraf/makeitpop","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"text","value":"GitHub repo here","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"tAazcOpeCg"}],"urlSource":"https://github.com/choldgraf/makeitpop","error":true,"key":"pouNWHfRCj"},{"type":"text","value":". In addition, all of the examples in this post are runnable\non Binder! You can launch an interactive session with this code by clicking on the Binder button\nat the top of this page!","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"pf4vjHLtQq"}],"key":"UA4cTQMWGR"}],"key":"lw8F53n379"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Addendum: Ok but how does ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"u471Py0ckV"},{"type":"inlineCode","value":"makeitpop","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"si1TBtXxIq"},{"type":"text","value":" ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"t1eeqam32C"},{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"actually","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"XbmLBz0qcH"}],"key":"pL6ZR1w53V"},{"type":"text","value":" work?","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Z2gZcGZYgd"}],"identifier":"addendum-ok-but-how-does-makeitpop-actually-work","label":"Addendum: Ok but how does makeitpop actually work?","html_id":"addendum-ok-but-how-does-makeitpop-actually-work","implicit":true,"key":"jwK103TsGv"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"In this section I’ll describe the (admittedly hacky) way that I’ve written ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"jLGYA7sGha"},{"type":"inlineCode","value":"makeitpop","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"NWUvjSG5yi"},{"type":"text","value":".\nAs I mentioned before, ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"uMojb3yb6l"},{"type":"link","url":"https://github.com/choldgraf/makeitpop","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"all the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"JScPgiKY8S"},{"type":"inlineCode","value":"makeitpop","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"yyF1Bjkwk4"},{"type":"text","value":" code is on GitHub","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"EUMUMPGrfQ"}],"urlSource":"https://github.com/choldgraf/makeitpop","error":true,"key":"iefxUtMTtf"},{"type":"text","value":" and\nPull Requests are more than welcome to improve the process (I’m looking at you, “histogram matching” people!)","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"pLtLK2CLYS"}],"key":"AKsyU5djZB"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Here’s what ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"hDBbr03ah4"},{"type":"inlineCode","value":"makeitpop","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"Rg9ZGIc70G"},{"type":"text","value":" does:","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"qQJhcXwnub"}],"key":"CEaVVT4OzF"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":9,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Collects a list of the “perceptual deltas”. These are calculated from the equations given in ","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"E1XdCS4Z7x"},{"type":"link","url":"https://github.com/matplotlib/viscm","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"inlineCode","value":"viscm","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"YxaYcg2sxu"}],"urlSource":"https://github.com/matplotlib/viscm","error":true,"key":"ilF5f1RjVB"},{"type":"text","value":", which was released as a part of the original work that created ","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"ACZKWFK0k2"},{"type":"inlineCode","value":"viridis","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"CqxjUoFQrT"},{"type":"text","value":".","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"KJDlmBkb6a"}],"key":"fCefcpRmYD"},{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Centers each colormap’s deltas at 0.","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"V6Du6XsXf6"}],"key":"g84vVq9jx1"},{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Scales each colormap’s deltas by the ","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"xQ1fyl6LNl"},{"type":"emphasis","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"largest variance","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"WP8RQsb6KT"}],"key":"RAvF8nTd0c"},{"type":"text","value":" across all colormaps. This is to make sure that warping the data is done with the relative differences of each colormap in mind.","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"S04Qv5LIMr"}],"key":"x659rbsnOE"},{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"When ","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"n8uFFamM1K"},{"type":"inlineCode","value":"makeitpop","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"pjDGacCt29"},{"type":"text","value":" is called, the function then:","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"nkZjQEWmKV"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":13,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Scales the input data linearly between 0 and 1","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"ANVB3CFEH9"}],"key":"cQfzwXgItL"},{"type":"listItem","spread":true,"position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Calculates the point-by-point derivative for linearly spaced points between 0 and 1 (the derivative is the same for all points here).","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"gtQ3bFemFv"}],"key":"GxF5kQUeCH"},{"type":"listItem","spread":true,"position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"Multiplies each derivative by the scaled perceptual deltas function, plus an extra scaling factor that accentuates the effect.","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"AEjs9pjuE3"}],"key":"q912AGpTuF"},{"type":"listItem","spread":true,"position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"Adds each value to the scaled input data.","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"xukJvMWuQH"}],"key":"BBeBmG9P9H"},{"type":"listItem","spread":true,"position":{"start":{"line":17,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"Un-scales the altered input data so that it has the same min/max as before.","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"q5rZtiAZpp"}],"key":"Syhen7Hyf3"}],"key":"BXLMX9rE08"}],"key":"TECaHFB3Cf"}],"key":"krzAkZZwIR"},{"type":"paragraph","position":{"start":{"line":19,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"There are plenty of ways you could do this more effectively (for example, by matching empirical CDFs and\nusing linear interpolation to map the delta function of one colormap onto the delta function for another\ncolormap). If you’d like to contribute or suggest something, feel free to do so! However, I’m just creating\nthis package to highlight an idea, and think this approach gets close enough with relatively little complexity.","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"MRmehQnZJZ"}],"key":"wlvRidtbSj"}],"key":"gMrGLgZMmP"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Some extras","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"twiJD3gnr6"}],"identifier":"some-extras","label":"Some extras","html_id":"some-extras","implicit":true,"key":"RDrlQtbHR5"}],"key":"S7uGCc3nUU"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Here’s a viz that will let you visualize how different colormaps distort data. We’ll show a\ngradient of linearly-spaced values, both using a warping colormap such as “jet” and a linear\ncolormap like “vidiris”. Then, we’ll “pop” the data and re-visualize with viridis.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"mNp79jwXbP"}],"key":"IZQUKSGi4i"}],"key":"xnIeGDVJeu"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create a gradient of datapoints\ndata = np.linspace(0, 1, 256)\ndata = np.tile(data, [100, 1])\n\n# Pop the data\ncmap_warping = 'jet'\nscaling_factor = 50\ndata_popped = makeitpop(data, cmap_warping, scaling_factor)\n\n# Visualize\nfig, axs = plt.subplots(6, 1, figsize=(10, 15), sharex=True)\naxs[0].pcolormesh(derivatives_scaled.index, range(len(data)), data, vmin=0, vmax=1, cmap=cmap_warping)\naxs[0].set(title=\"Raw data with colormap {}\".format(cmap_warping))\naxs[1].plot(derivatives_scaled.index, derivatives_scaled[cmap_warping].values)\naxs[1].set(xlim=[0, 1], ylim=[-1.1, 1.1], title=\"First row of image\")\n\naxs[2].pcolormesh(derivatives_scaled.index, range(len(data)), data, vmin=0, vmax=1, cmap='viridis')\naxs[2].set(title=\"Raw data with colormap {}\".format('viridis'))\naxs[3].plot(derivatives_scaled.index, data[0])\naxs[3].set_xlim([0, 1])\n\naxs[4].pcolormesh(derivatives_scaled.index, range(len(data)), data_popped, vmin=0, vmax=1, cmap='viridis')\naxs[4].set(title=\"Data warped with colormap {}\".format(cmap_warping))\naxs[5].plot(derivatives_scaled.index, data_popped[0])\naxs[5].set_xlim([0, 1])\nplt.tight_layout()","visibility":"hide","key":"nTafXtT4Fx"},{"type":"output","id":"UKmxFEOYlyA3IUhGe6Kbl","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"1388a63879db566cf4a4897fe9e7e09a","path":"/build/1388a63879db566cf4a4897fe9e7e09a.png"},"text/plain":{"content":"\u003cFigure size 720x1080 with 6 Axes\u003e","content_type":"text/plain"}}}],"visibility":"show","key":"fEgZMolOmm"}],"visibility":"show","key":"G0XAWtsNEY"}],"key":"sDgokXICoX"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"How do projects signal how “open” they are?","url":"/blog/2018/kinds-of-openness","group":"2018"},"next":{"title":"My weekly workflow","url":"/blog/2018/my-workflow","group":"2018"}}},"domain":"http://localhost:3000"},"project":{"title":"Welcome","github":"https://github.com/choldgraf/choldgraf.github.io","id":"f84d70c6-7ee5-4bb9-9056-aa84134a33dd","toc":[{"file":"index.md"},{"file":"about.md"},{"file":"projects.md"},{"file":"publications.md"},{"file":"talks.md"},{"children":[{"children":[{"pattern":"blog/2024/**{.ipynb,.md}"}],"title":"2024"},{"children":[{"pattern":"blog/2023/**{.ipynb,.md}"}],"title":"2023"},{"children":[{"pattern":"blog/2022/**{.ipynb,.md}"}],"title":"2022"},{"children":[{"pattern":"blog/2021/**{.ipynb,.md}"}],"title":"2021"},{"children":[{"pattern":"blog/2020/**{.ipynb,.md}"}],"title":"2020"},{"children":[{"pattern":"blog/2019/**{.ipynb,.md}"}],"title":"2019"},{"children":[{"pattern":"blog/2018/**{.ipynb,.md}"}],"title":"2018"},{"children":[{"pattern":"blog/2017/**{.ipynb,.md}"}],"title":"2017"},{"children":[{"pattern":"blog/2016/**{.ipynb,.md}"}],"title":"2016"},{"children":[{"pattern":"blog/2015/**{.ipynb,.md}"}],"title":"2015"}],"file":"blog.md"}],"thumbnail":"/build/profile-color-circle-63cabbae832d6fe8f41209f45ff7df6c.png","exports":[],"bibliography":[],"index":"index","pages":[{"slug":"about","title":"About me","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"projects","title":"Projects","description":"","date":"","thumbnail":"/build/7d9a7172f87d448f4ed0d90adb92d4db.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"publications","title":"Publications","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"talks","title":"Talks","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"blog","title":"Blog","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"level":2,"title":"2024"},{"slug":"blog.2024.blog-list","title":"Better blog lists with the MyST AST","description":"","date":"2024-11-09","thumbnail":"/build/sandbox-demo-bf65344efa46ed565c9e7ed7bd0c4ad1.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["myst","jupyter"],"level":3},{"slug":"blog.2024.bluesky","title":"Thoughts on moving from Twitter/X to BlueSky","description":"","date":"2024-11-22","thumbnail":"/build/bluesky-castles-cd300f3753d7b76e3be276a727504e9d.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["open source","social media"],"level":3},{"slug":"blog.2024.mystmd-with-the-blog","title":"Re-building my blog with MySTMD","description":"","date":"2024-11-01","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"blog.2024.programmatic-myst-with-jupyter","title":"Generate MyST with Jupyter and insert it into content programmatically","description":"","date":"2024-11-04","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["myst","jupyter"],"level":3},{"level":2,"title":"2023"},{"slug":"blog.2023.ai-for-good","title":"A few random opportunities in AI for Social Good","description":"","date":"2023-10-02","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["cloud"],"level":3},{"slug":"blog.2023.fosdem","title":"Report from FOSDEM23: beautiful chaos in a conference","description":"","date":"2023-02-06","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["cloud"],"level":3},{"slug":"blog.2023.social-directive","title":"A Sphinx directive for social media embeds","description":"","date":"2023-02-15","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["sphinx"],"level":3},{"slug":"blog.2023.sphinx-add-extensions","title":"Bundle extensions with your Sphinx theme","description":"","date":"2023-01-19","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["sphinx"],"level":3},{"level":2,"title":"2022"},{"slug":"blog.2022.cloud-services-academia","title":"Ask Twitter: Why don’t academic researchers use cloud services?","description":"","date":"2022-09-05","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["cloud"],"level":3},{"slug":"blog.2022.github-2022","title":"GitHub year in review","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"blog.2022.install-github-from-pyproject","title":"Install dependencies from GitHub with pyproject.toml or requirements.txt","description":"","date":"2022-12-31","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["software development"],"level":3},{"slug":"blog.2022.jupyterlite-workshop","title":"Report from the JupyterLite workshop: WebAssembly is pretty cool","description":"","date":"2022-12-10","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["jupyter","webassembly"],"level":3},{"slug":"blog.2022.matplotlib-remote-font","title":"Load and plot a remote font with Matplotlib","description":"","date":"2022-12-06","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["matplotlib"],"level":3},{"slug":"blog.2022.orcid-auto-update","title":"Automatically updating my publications page with ORCID and doi.org","description":"","date":"2022-11-19","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["scholarship","doi","orcid"],"level":3},{"slug":"blog.2022.phantom-workflows-pull-requests","title":"Fix phantom GitHub workflows in your ci-cd with protected branch rules","description":"","date":"2022-11-27","thumbnail":"/build/abdd690fd5af613c25b40bb16d6ca824.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["cicd","github actions"],"level":3},{"slug":"blog.2022.precommit-autoupdate","title":"Automatically update pre-commit hook versions","description":"","date":"2022-12-03","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["python","git"],"level":3},{"slug":"blog.2022.shell-split","title":"subprocess.run can execute shell commands directly","description":"","date":"2022-11-29","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["shell","python"],"level":3},{"slug":"blog.2022.sphinx-custom-crossrefs","title":"Custom roles and domains in Sphinx with one line","description":"","date":"2022-11-21","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["sphinx","scholarship","myst"],"level":3},{"slug":"blog.2022.sphinx-redirects-folder","title":"Automatically redirect folders in Sphinx websites","description":"","date":"2022-11-19","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"blog.2022.sphinx-update-config","title":"How to update Sphinx options during the build","description":"","date":"2022-12-05","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["sphinx"],"level":3},{"level":2,"title":"2021"},{"slug":"blog.2021.2021-12-18-hybrid-tutorial-prerecord","title":"Serving in two roles at once via pre-recorded tutorials","description":"","date":"2021-12-17","thumbnail":"/build/9c5f30a4a04a0ddea887b8cfbfca92ce.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["teaching"],"level":3},{"level":2,"title":"2020"},{"slug":"blog.2020.2020-01-22-rst-thoughts","title":"What do people think about rST?","description":"","date":"2020-01-22","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["markup","documentation"],"level":3},{"slug":"blog.2020.organizations-help-oss-guide","title":"Contributing to open source: A short guide for organizations","description":"","date":"2020-11-08","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["open source","sustainability"],"level":3},{"slug":"blog.2020.sphinx-blogging","title":"A new blog with Sphinx","description":"","date":"2020-10-10","thumbnail":"/build/sphinx-logo-f7aaddcb8b97dab3f0a9612a600a6ce1.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["sphinx","blogging","jupyter"],"level":3},{"slug":"blog.2020.sphinx-design-timeline","title":"Build a simple timeline with sphinx-design","description":"","date":"2020-01-22","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["markup","documentation"],"level":3},{"level":2,"title":"2019"},{"slug":"blog.2019.2019-01-29-three-things-circleci","title":"Three things I love about CircleCI","description":"","date":"2019-01-29","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["CICD","dev ops","software development"],"level":3},{"slug":"blog.2019.2019-03-16-jupyter-dev","title":"Thoughts from the Jupyter team meeting 2019","description":"","date":"2019-03-30","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["jupyter","community"],"level":3},{"slug":"blog.2019.2019-06-25-a-few-talks","title":"A few recent talks","description":"","date":"2019-06-25","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["talks"],"level":3},{"slug":"blog.2019.2019-10-11-automating-jb","title":"Automating Jupyter Book deployments with CI/CD","description":"","date":"2019-10-11","thumbnail":"/build/jb-auto-build-a5764d1aec04476400831f989bb5dece.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["infrastructure"],"level":3},{"slug":"blog.2019.2019-10-13-rust-jupyter-governance","title":"What would Rust-style governance look like in Jupyter?","description":"","date":"2019-10-13","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["governance"],"level":3},{"slug":"blog.2019.2019-10-22-xarray-neuro","title":"Analyzing intracranial electrophysiology data with xarray","description":"","date":"2019-10-22","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["analysis","neuroscience","xarray","open source"],"level":3},{"slug":"blog.2019.2019-10-27-jupyter-governance-python","title":"What would Python-style governance look like in Jupyter?","description":"","date":"2019-10-27","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["governance","open source"],"level":3},{"slug":"blog.2019.2019-11-11-ipynb-pandoc","title":"Testing Pandoc and Jupyter Notebooks","description":"","date":"2019-11-11","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["documentation","pandoc","nbconvert"],"level":3},{"level":2,"title":"2018"},{"slug":"blog.2018.circlci-github","title":"Automatically mirror a github repository with CircleCI","description":"","date":"2018-12-18","thumbnail":"/build/circleci-mirror-depl-01d0dcfad44aa3e8c23c5fa626dc879f.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["productivity","CICD"],"level":3},{"slug":"blog.2018.circle-docs","title":"Using CircleCI to preview documentation in Pull Requests","description":"","date":"2018-10-16","thumbnail":"/build/sphinx-circle-logos-de03a7650e1bcb7c405434a05567aef4.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["documentation","sphinx"],"level":3},{"slug":"blog.2018.conferences-summer-2018","title":"Summer conference report back","description":"","date":"2018-08-01","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["python","conferences","communities","jupyter"],"level":3},{"slug":"blog.2018.devopsdays-sv-2018","title":"An academic scientist goes to DevOps Days","description":"","date":"2018-05-18","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["python","open science","devops","jupyterhub","teams"],"level":3},{"slug":"blog.2018.free-labor-partners","title":"Open communities need to be partners, not sources of free labor","description":"","date":"2018-12-05","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["open communities","open culture","sustainability"],"level":3},{"slug":"blog.2018.jekyllmarkdown","title":"Blogging with Jupyter Notebooks and Jekyll using nbconvert templates","description":"","date":"2018-05-23","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["python","blogging","jekyll"],"level":3},{"slug":"blog.2018.kinds-of-openness","title":"How do projects signal how “open” they are?","description":"","date":"2018-10-26","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["open source","governance","community"],"level":3},{"slug":"blog.2018.makeitpop","title":"Introducing makeitpop, a tool to perceptually warp your data!\"","description":"","date":"2018-06-04","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["python colormaps"],"level":3},{"slug":"blog.2018.my-workflow","title":"My weekly workflow","description":"","date":"2018-10-26","thumbnail":"/build/trello-board-project-8bdf3262a715161831fa59d0cb63d019.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["productivity"],"level":3},{"slug":"blog.2018.rust-governance","title":"I like Rust’s governance structure","description":"","date":"2018-10-18","thumbnail":"/build/2018-10-19-rust_logo-289e5fae011c6977d6d4ca2e7c0570dd.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["python","governance","community"],"level":3},{"slug":"blog.2018.sphinx-copy-buttons","title":"Adding copy buttons to code blocks in Sphinx","description":"","date":"2018-07-05","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["python","blogging","sphinx","documentation"],"level":3},{"level":2,"title":"2017"},{"slug":"blog.2017.2017-01-04-matplotlib-cycles","title":"Matplotlib Cyclers are Great","description":"","date":"2017-01-04","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["python","open science","visualizations"],"level":3},{"slug":"blog.2017.2017-03-16-dates-in-python","title":"Dates in python","description":"","date":"2017-03-16","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["python","open science"],"level":3},{"slug":"blog.2017.2017-11-02-dates-multiple-plots","title":"Combining dates with analysis visualization in python","description":"","date":"2017-11-02","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["python","open science"],"level":3},{"level":2,"title":"2016"},{"slug":"blog.2016.2016-07-02-fft-time","title":"The beauty of computational efficiency","description":"","date":"2016-07-02","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["python","programming","computation","efficiency","fft"],"level":3},{"slug":"blog.2016.2016-07-08-voting-randomness","title":"Could Brexit have happened by chance?","description":"","date":"2016-07-08","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["python","voting","statistics","computation","fft"],"level":3},{"slug":"blog.2016.2016-11-01-5-things-scipy-2016","title":"5 things I learned at SciPy","description":"","date":"2016-11-01","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["python","open science","programming","conferences"],"level":3},{"slug":"blog.2016.2016-11-01-5-things-scipy-2016-1","title":"1. Scientific conferences can be fun","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"blog.2016.2016-11-30-funnel-plots","title":"Visualizing publication bias","description":"","date":"2016-11-30","thumbnail":"/build/funnel_plot_no_dists-a66702a1a4637301b036e46f851fc45e.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["python","funnel plots","open science","visualizations","simulations"],"level":3},{"slug":"blog.2016.2016-12-19-biorxiv-neuro","title":"The bleeding edge of publishing, Scraping publication amounts at biorxiv","description":"","date":"2016-12-19","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["python","open science","visualizations","web scraping","preprints"],"level":3},{"slug":"blog.2016.2016-12-23-christmas-ecog-plot","title":"Brainy Jingle Bells","description":"","date":"2016-12-23","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["python","open science","visualizations","brains","holidays"],"level":3},{"level":2,"title":"2015"},{"slug":"blog.2015.2015-05-27-coherence-correlation","title":"Coherence vs. Correlation - a simple simulation","description":"","date":"2015-05-27","thumbnail":"/build/eeg_coh-cae9c917c40afecc6c64c94bd21ca00c.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["python","programming","timeseries","correlation"],"level":3},{"slug":"blog.2015.2015-08-30-craigslist-scrape","title":"Scraping craigslist","description":"","date":"2015-08-30","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["python","programming"],"level":3},{"slug":"blog.2015.2015-09-27-craigslist-data-analysis","title":"Craigslist data analysis","description":"","date":"2015-09-27","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["python","scraping","data analysis","visualization"],"level":3},{"slug":"blog.2015.2015-10-29-nih-grant-analysis","title":"NIH grant analysis","description":"","date":"2015-10-29","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["python","statistics","visualization","grants"],"level":3}]}}},"actionData":null,"errors":null},"future":{"unstable_dev":false,"unstable_postcss":false,"unstable_tailwind":false,"v2_errorBoundary":true,"v2_headers":true,"v2_meta":true,"v2_normalizeFormMethod":true,"v2_routeConvention":true}};</script><script type="module" async="">import "/build/manifest-A92797E9.js";
import * as route0 from "/build/root-HROFNPGU.js";
import * as route1 from "/build/routes/$-WNZNXUO2.js";
window.__remixRouteModules = {"root":route0,"routes/$":route1};

import("/build/entry.client-UNPC4GT3.js");</script></body></html>